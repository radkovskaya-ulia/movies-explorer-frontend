{"version":3,"sources":["components/ProtectedRoute/ProtectedRoute.js","components/Logo/Logo.js","components/Header/Header.js","images/logo_web.svg","components/Promo/Promo.js","components/SectionTitle/SectionTitle.js","components/AboutProject/AboutProject.js","components/Techs/Techs.js","images/author.jpg","components/AboutMe/AboutMe.js","images/row.svg","components/Portfolio/Portfolio.js","components/Footer/Footer.js","components/Main/Main.js","images/magnifier.svg","components/SearchForm/SearchForm.js","components/MoviesCard/MoviesCard.js","components/MoviesCardList/MoviesCardList.js","components/Preloader/Preloader.js","components/Movies/Movies.js","components/Navigation/Navigation.js","contexts/CurrentUserContext.js","hooks/useFormValidation.js","components/Profile/Profile.js","components/AuthForm/AuthForm.js","components/Login/Login.js","components/Register/Register.js","components/SavedMovies/SavedMovies.js","components/InfoTooltip/InfoTooltip.js","utils/MoviesApi.js","utils/MainApi.js","utils/auth.js","components/App/App.js","reportWebVitals.js","index.js"],"names":["ProtectedRoute","Component","component","props","isLogin","to","Logo","className","Header","onNavigationClick","isMain","useRouteMatch","path","exact","onClick","Promo","src","logo_web","alt","href","SectionTitle","title","AboutProject","id","Tech","AboutMe","photo","Portfolio","target","rel","row","Footer","Main","SearchForm","onSearch","seachInputError","React","useState","checked","setChecked","phrase","setPhrase","location","useLocation","useEffect","pathname","localStorage","getItem","onSubmit","e","preventDefault","check","magnifier","type","name","placeholder","value","onChange","MoviesCard","card","onLikeClick","savedCards","isMovies","some","i","movieId","isLiked","setIsLiked","cardLikeButtonClassName","trailerLink","image","url","nameRU","country","director","duration","year","description","trailer","thumbnail","formats","nameEN","parseInt","MoviesCardList","cards","numCards","handleShowMoreCards","downloadAllCard","length","filter","num","map","filterCard","_id","Preloader","showClass","showPreloader","Movies","infoMoviesMessage","errorMoviesMessage","Navigation","isOpen","onClose","openClass","activeClassName","CurrentUserContext","createContext","useFormWithValidation","values","setValues","errors","setErrors","isValid","setIsValid","resetFrom","useCallback","newValues","newErrors","newIsValid","handleChange","evt","input","validationMessage","closest","checkValidity","Profile","onUpdateUser","onLogout","currentUser","useContext","htmlFor","required","minLength","maxLength","pattern","email","disabled","AuthForm","children","buttonText","link","linkText","authText","handleSubmit","errorAuthMessage","isDisabled","Login","onLogin","autoComplete","password","Register","onRegister","SavedMovies","width","showSavedCardList","InfoTooltip","infoProfileMessage","moviesApi","config","this","_url","res","ok","json","Promise","reject","status","fetch","method","headers","then","_checkResponse","api","jwt","_getHeaders","data","body","JSON","stringify","cardId","BASE_URL","checkResponse","response","Error","statusText","App","isNagitionOpen","setIsNagitionOpen","isInfoTooltipOpen","setIsisInfoTooltipOpen","setCards","setSavedCards","savedFilteredCards","setSavedFilteredCards","setWidth","setNumCards","loading","setLoading","setInfoMoviesMessage","infoSavedMoviesMessage","setInfoSavedMoviesMessage","setErrorMoviesMessage","setErrorAuthMessage","setSeachInputError","setСurrentUser","loggedIn","setLoggedIn","infoEditProfileMessage","setInfoProfileMessage","history","useHistory","tokenCheck","token","Authorization","catch","err","console","log","handleNavigationClick","closeAllPopups","handleSetNumCards","document","documentElement","clientWidth","filterCards","request","filerByNameCard","nameRu","counry","toLowerCase","includes","handleSaveCard","addCard","message","handleDeleteCard","removeCard","state","c","handleSearchMovies","getCards","setItem","finally","String","filteredCards","parse","handleSearchSavedMovies","promises","getUserInfo","all","userData","owner","push","window","addEventListener","Provider","auth","saveCard","deleteCard","editProfile","removeItem","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"+rBAaeA,EAVQ,SAAC,GAAwC,IAA3BC,EAA0B,EAArCC,UAAyBC,EAAY,iBAC7D,OACE,cAAC,IAAD,UACG,kBACCA,EAAMC,QAAU,cAACH,EAAD,eAAeE,IAAY,cAAC,IAAD,CAAUE,GAAG,gB,mBCGjDC,MANf,WACE,OACE,cAAC,IAAD,CAAMC,UAAU,OAAOF,GAAG,OC8CfG,MA/Cf,YAAiD,IAA/BC,EAA8B,EAA9BA,kBAAmBL,EAAW,EAAXA,QAC7BM,EAASC,YAAc,CAAEC,KAAM,IAAKC,OAAO,IAEjD,OACE,qBACEN,UAAS,wBACPG,EAAS,eAAiB,IAF9B,SAIE,sBAAKH,UAAU,kBAAf,UACE,cAAC,EAAD,IACA,sBACEA,UAAS,6CACPH,EAAU,oBAAsB,IAFpC,UAIE,cAAC,IAAD,CAAMG,UAAU,4BAA4BF,GAAG,UAA/C,gFAGA,cAAC,IAAD,CAAME,UAAU,qBAAqBF,GAAG,UAAxC,+CAIF,sBACEE,UAAS,6CACPH,EAAU,GAAK,qBAFnB,UAIE,cAAC,IAAD,CAAMG,UAAU,qBAAqBF,GAAG,UAAxC,kDAGA,cAAC,IAAD,CAAME,UAAU,qBAAqBF,GAAG,gBAAxC,wHAIF,cAAC,IAAD,CACEE,UAAS,0CACPH,EAAU,GAAK,qBACjBC,GAAG,aAEL,wBACEE,UAAS,yCACPH,EAAU,GAAK,qBACjBU,QAASL,UC7CJ,MAA0B,qC,MCuB1BM,MAnBf,WACE,OACE,yBAASR,UAAU,QAAnB,SACE,sBAAKA,UAAU,iBAAf,UACE,qBAAKA,UAAU,eAAeS,IAAKC,EAAUC,IAAI,+EACjD,sBAAKX,UAAU,mBAAf,UACE,oBAAIA,UAAU,eAAd,iSAGA,mBAAGA,UAAU,kBAAb,oWAGA,mBAAGA,UAAU,cAAcY,KAAK,gBAAhC,gG,YCLKC,MARf,YAAgC,IAATC,EAAQ,EAARA,MACrB,OACE,mCACA,oBAAId,UAAU,gBAAd,SAA+Bc,OCkCpBC,MApCf,WACE,OACE,yBAASf,UAAU,UAAUgB,GAAG,eAAhC,SACE,sBAAKhB,UAAU,mBAAf,UACE,cAAC,EAAD,CAAcc,MAAO,sDACrB,sBAAKd,UAAU,0BAAf,UACE,sBAAKA,UAAU,0BAAf,UACE,mBAAGA,UAAU,oBAAb,2LAGA,mBAAGA,UAAU,gBAAb,6hBAKF,sBAAKA,UAAU,0BAAf,UACE,mBAAGA,UAAU,oBAAb,kMAGA,mBAAGA,UAAU,gBAAb,6hBAMJ,sBAAKA,UAAU,2BAAf,UACE,qBAAKA,UAAU,iBAAf,oDACA,qBAAKA,UAAU,iBAAf,oDACA,qBAAKA,UAAU,yBAAf,sBACA,qBAAKA,UAAU,yBAAf,gC,MCHKiB,MA1Bf,WACE,OACE,yBAASjB,UAAU,QAAnB,SACE,sBAAKA,UAAU,iBAAf,UACE,cAAC,EAAD,CAAcc,MAAO,iEACrB,sBAAKd,UAAU,mBAAf,UACE,mBAAGA,UAAU,kBAAb,4EACA,mBAAGA,UAAU,cAAb,8cAKF,qBAAIA,UAAU,mBAAd,UACE,oBAAIA,UAAU,cAAd,kBACA,oBAAIA,UAAU,cAAd,iBACA,oBAAIA,UAAU,cAAd,gBACA,oBAAIA,UAAU,cAAd,mBACA,oBAAIA,UAAU,cAAd,iBACA,oBAAIA,UAAU,cAAd,wBACA,oBAAIA,UAAU,cAAd,8BCvBK,G,MAAA,IAA0B,oCC+C1BkB,MA1Cf,WACE,OACE,yBAASlB,UAAU,SAAnB,SACE,sBAAKA,UAAU,kBAAf,UACE,cAAC,EAAD,CAAcc,MAAO,+CACrB,sBAAKd,UAAU,yBAAf,UACE,qBAAKA,UAAU,gBAAgBS,IAAKU,EAAOR,IAAI,uGAC/C,sBAAKX,UAAU,oBAAf,UACE,sBAAKA,UAAU,yBAAf,UACE,mBAAGA,UAAU,eAAb,gCACA,mBAAGA,UAAU,cAAb,wJACA,mBAAGA,UAAU,eAAb,i+DAUF,sBAAKA,UAAU,yBAAf,UACE,mBACEA,UAAU,eACVY,KAAK,6CAFP,sBAMA,mBACEZ,UAAU,eACVY,KAAK,sCAFP,mCCjCC,G,MAAA,IAA0B,iCC2D1BQ,MAvDf,WACE,OACE,yBAASpB,UAAU,YAAnB,SACE,sBAAKA,UAAU,qBAAf,UACE,oBAAIA,UAAU,mBAAd,oEACA,sBAAKA,UAAU,uBAAf,UACE,mBACEA,UAAU,kBACVY,KAAK,mDACLS,OAAO,SACPC,IAAI,aAJN,6FAQA,qBACEtB,UAAU,mBACVS,IAAKc,EACLZ,IAAI,sHAGR,sBAAKX,UAAU,uBAAf,UACE,mBACEA,UAAU,kBACVY,KAAK,+DACLS,OAAO,SACPC,IAAI,aAJN,mGAQA,qBACEtB,UAAU,mBACVS,IAAKc,EACLZ,IAAI,sHAGR,sBAAKX,UAAU,uBAAf,UACE,mBACEA,UAAU,kBACVY,KAAK,+CACLS,OAAO,SACPC,IAAI,aAJN,+JAQA,qBACEtB,UAAU,mBACVS,IAAKc,EACLZ,IAAI,4H,MCPDa,MAzCf,WACE,OACE,qBAAKxB,UAAU,SAAf,SACE,sBAAKA,UAAU,kBAAf,UACE,mBAAGA,UAAU,uBAAb,0MAGA,sBAAKA,UAAU,oBAAf,UACE,sBAAKA,UAAU,yBAAf,UACE,mBACEA,UAAU,eACVY,KAAK,8BACLS,OAAO,SACPC,IAAI,aAJN,yGAQA,mBACEtB,UAAU,eACVY,KAAK,sCACLS,OAAO,SACPC,IAAI,aAJN,oBAQA,mBACEtB,UAAU,eACVY,KAAK,6CACLS,OAAO,SACPC,IAAI,aAJN,yBASF,mBAAGtB,UAAU,oBAAb,+B,MCVKyB,MAhBf,YAA6C,IAA9B5B,EAA6B,EAA7BA,QAASK,EAAoB,EAApBA,kBACtB,OACE,qCACE,cAAC,EAAD,CAAQL,QAASA,EAASK,kBAAmBA,IAC7C,uBAAMF,UAAU,UAAhB,UACE,cAAC,EAAD,IACA,cAAC,EAAD,IACA,cAAC,EAAD,IACA,cAAC,EAAD,IACA,cAAC,EAAD,OAEF,cAAC,EAAD,QCtBS,G,YAAA,IAA0B,uCC8F1B0B,MAzFf,YAAoD,IAA9BC,EAA6B,EAA7BA,SAAUC,EAAmB,EAAnBA,gBAC9B,EAA8BC,IAAMC,SAAS,IAA7C,mBAAOC,EAAP,KAAgBC,EAAhB,KACA,EAA4BH,IAAMC,SAAS,IAA3C,mBAAOG,EAAP,KAAeC,EAAf,KACMC,EAAWC,cA2CjB,OAzCAP,IAAMQ,WAAU,WACY,YAAtBF,EAASG,SAEsC,OAA/CC,aAAaC,QAAQ,uBACyB,OAA9CD,aAAaC,QAAQ,uBAErBN,EAAUK,aAAaC,QAAQ,uBACmB,SAA9CD,aAAaC,QAAQ,qBACvBR,GAAW,GAC4C,UAA9CO,aAAaC,QAAQ,sBAC9BR,GAAW,IAIuC,OAApDO,aAAaC,QAAQ,4BAC8B,OAAnDD,aAAaC,QAAQ,4BAErBN,EAAUK,aAAaC,QAAQ,4BACwB,SAAnDD,aAAaC,QAAQ,0BACvBR,GAAW,GACiD,UAAnDO,aAAaC,QAAQ,2BAC9BR,GAAW,MAGhB,CAACG,IAkBF,0BAASnC,UAAU,aAAnB,UACE,uBAAMA,UAAU,mBAAmByC,SAVvC,SAAsBC,GACpBA,EAAEC,iBACFhB,EAAS,CACPM,OAAQA,EACRW,MAAOb,KAMP,UACE,sBAAK/B,UAAU,wBAAf,UACE,sBAAKA,UAAU,8BAAf,UACE,qBACEA,UAAU,2BACVS,IAAKoC,EACLlC,IAAI,mEAEN,uBACEmC,KAAK,OACLC,KAAK,WACL/C,UAAU,oBACVgD,YAAY,iCACZC,MAAOhB,GAAU,GACjBiB,SA5BZ,SAA4BR,GAC1BR,EAAUQ,EAAErB,OAAO4B,aA8Bb,wBAAQH,KAAK,SAAS9C,UAAU,0BAElC,wBAAOA,UAAU,oBAAjB,UACE,uBACE8C,KAAK,WACL9C,UAAU,iCACV+B,QAASA,EACTmB,SAzCV,SAAsBR,GACpBV,GAAYD,MA0CN,sBAAM/B,UAAU,iCAChB,sBAAMA,UAAU,mBAAhB,8GAGJ,mBACEA,UAAS,kCACP4B,EAAkB,GAAK,qCAF3B,qK,YCnBSuB,MA5Df,YAAwD,IAAlCC,EAAiC,EAAjCA,KAAMC,EAA2B,EAA3BA,YAAaC,EAAc,EAAdA,WACjCC,EAAWnD,YAAc,CAAEC,KAAM,UAAWC,OAAO,IACzD,EAA8BuB,IAAMC,SAASwB,EAAWE,MAAK,SAACC,GAAD,OAAOA,EAAEC,UAAYN,EAAKpC,OAAvF,mBAAO2C,EAAP,KAAgBC,EAAhB,KA2BMC,EAAuB,+BAC3BN,EAAW,GAAK,2BADW,eAE3BI,EAAU,2BAA6B,IAGzC,OACE,qBAAI3D,UAAU,OAAd,UACE,mBAAGA,UAAU,mBAAmBY,KAAMwC,EAAKU,YAA3C,SAAwD,qBACtD9D,UAAU,cACVS,IAAG,UACD8C,EAAQ,sCAC2BH,EAAKW,MAAMC,KAC1CZ,EAAKW,MAHR,KAKHpD,IAAG,iGAAsByC,EAAKa,OAA3B,UAEL,sBAAKjE,UAAU,kBAAf,UACE,oBAAIA,UAAU,cAAd,SAA6BoD,EAAKa,SAClC,wBACEnB,KAAK,SACL9C,UAAW6D,EACXtD,QA9CR,WACMgD,GACFK,GAAYD,GACZN,EACE,CACEa,QAASd,EAAKc,QACdC,SAAUf,EAAKe,SACfC,SAAUhB,EAAKgB,SACfC,KAAMjB,EAAKiB,KACXC,YAAalB,EAAKkB,YAClBP,MAAM,+BAAD,OAAiCX,EAAKW,MAAMC,KACjDO,QAASnB,EAAKU,YACdU,UAAU,+BAAD,OAAiCpB,EAAKW,MAAMU,QAAQD,UAAUR,KACvEC,OAAQb,EAAKa,OACbS,OAAQtB,EAAKsB,OACbhB,QAASN,EAAKpC,IAEhB2C,IAIFN,EAAYD,SA4BZ,oBAAGpD,UAAU,iBAAb,UACG2E,SAASvB,EAAKgB,SAAW,IAD5B,UACmChB,EAAKgB,SAAW,GADnD,gBCfSQ,MArCf,YAMI,IALFC,EAKC,EALDA,MACAC,EAIC,EAJDA,SACAC,EAGC,EAHDA,oBACA1B,EAEC,EAFDA,YACAC,EACC,EADDA,WAEM0B,EAAkBH,EAAMI,QAAUH,EAClCvB,EAAWnD,YAAc,CAAEC,KAAM,UAAWC,OAAO,IAGzD,OACE,0BAASN,UAAU,YAAnB,UACE,oBAAIA,UAAU,kBAAd,SACG,YAAI6E,GACFK,QAAO,SAAC9B,EAAM+B,GAAP,OAAeA,EAAML,KAC5BM,KAAI,SAACC,GAAD,OACH,cAAC,EAAD,CAEEjC,KAAMiC,EACNhC,YAAaA,EACbC,WAAYA,GAJd,UACUC,EAAW8B,EAAWrE,GAAKqE,EAAWC,WAOtD,wBACExC,KAAK,SACL9C,UAAS,qCACPgF,EAAkB,8BAAgC,IACpDzE,QAASwE,EAJX,oC,MChBSQ,MAXf,YAAqC,IAC3BC,EAD0B,EAAhBC,eACmB,qBACnC,OACI,qBAAKzF,UAAS,oBAAewF,GAA7B,SACI,qBAAKxF,UAAU,uBAAf,SACI,sBAAMA,UAAU,0BCmDjB0F,MAnDf,YAaI,IAZFxF,EAYC,EAZDA,kBACA4E,EAWC,EAXDA,SACAD,EAUC,EAVDA,MACAE,EASC,EATDA,oBACApD,EAQC,EARDA,SACA8D,EAOC,EAPDA,cACAE,EAMC,EANDA,kBACAC,EAKC,EALDA,mBACA/F,EAIC,EAJDA,QACAwD,EAGC,EAHDA,YACAC,EAEC,EAFDA,WACA1B,EACC,EADDA,gBAIA,OACE,qCACE,cAAC,EAAD,CAAQ1B,kBAAmBA,EAAmBL,QAASA,IACvD,sBAAKG,UAAU,SAAf,UACE,cAAC,EAAD,CACE2B,SAAUA,EACVC,gBAAiBA,IAEnB,cAAC,EAAD,CAAW6D,cAAeA,IAC1B,mBACEzF,UAAS,0CACT2F,EAAoB,GAAK,oCAF3B,0GAMA,mBACE3F,UAAS,0CACT4F,EAAqB,GAAK,oCAF5B,irBAOA,cAAC,EAAD,CACEf,MAAOA,EACPvB,WAAYA,EACZwB,SAAUA,EACVC,oBAAqBA,EACrB1B,YAAaA,OAGjB,cAAC,EAAD,Q,MCDSwC,MAjDf,YAA0C,IAApBC,EAAmB,EAAnBA,OAAQC,EAAW,EAAXA,QACtBC,EAAYF,GAAU,qBAE5B,OACE,qBAAK9F,UAAS,qBAAgBgG,GAA9B,SACE,sBAAKhG,UAAU,sBAAf,UACE,wBACE8C,KAAK,SACLvC,QAASwF,EACT/F,UAAU,2BACV,aAAW,2KAEb,sBAAKA,UAAU,6BAAf,UACE,cAAC,IAAD,CACEiG,gBAAgB,0BAChBjG,UAAU,mBACVM,OAAK,EACLR,GAAG,IACHS,QAASwF,EALX,wDASA,cAAC,IAAD,CACEE,gBAAgB,0BAChBjG,UAAU,mBACVF,GAAG,UACHS,QAASwF,EAJX,kDAQA,cAAC,IAAD,CACEE,gBAAgB,0BAChBjG,UAAU,mBACVF,GAAG,gBACHS,QAASwF,EAJX,wHASF,cAAC,IAAD,CACE/F,UAAU,2BACVF,GAAG,WACHS,QAASwF,UC5CNG,G,MAAqBrE,IAAMsE,iB,QCAjC,SAASC,IACd,MAA4BvE,IAAMC,SAAS,IAA3C,mBAAOuE,EAAP,KAAeC,EAAf,KACA,EAA4BzE,IAAMC,SAAS,IAA3C,mBAAOyE,EAAP,KAAeC,EAAf,KACA,EAA8B3E,IAAMC,UAAS,GAA7C,mBAAO2E,EAAP,KAAgBC,EAAhB,KAWMC,EAAYC,uBAChB,WAAyD,IAAxDC,EAAuD,uDAA3C,GAAIC,EAAuC,uDAA3B,GAAIC,EAAuB,wDACtDT,EAAUO,GACVL,EAAUM,GACVJ,EAAWK,KAEb,CAACT,EAAWE,EAAWE,IAGzB,MAAO,CAAEL,SAAQW,aAlBI,SAACC,GACpB,IAAMC,EAAQD,EAAI5F,OACZ4B,EAAQiE,EAAMjE,MACdF,EAAOmE,EAAMnE,KACnBuD,EAAU,2BAAKD,GAAN,kBAAetD,EAAOE,KAC/BuD,EAAU,2BAAKD,GAAN,kBAAexD,EAAOmE,EAAMC,qBACrCT,EAAWQ,EAAME,QAAQ,QAAQC,kBAYJV,YAAWJ,SAAQE,WC4DrCa,MA9Ef,YAA0E,IAAvDpH,EAAsD,EAAtDA,kBAAmBL,EAAmC,EAAnCA,QAAS0H,EAA0B,EAA1BA,aAAcC,EAAY,EAAZA,SACrDC,EAAc5F,IAAM6F,WAAWxB,GACrC,EACEE,IADMC,EAAR,EAAQA,OAAQW,EAAhB,EAAgBA,aAAcL,EAA9B,EAA8BA,UAAWJ,EAAzC,EAAyCA,OAAQE,EAAjD,EAAiDA,QAcjD,OAXA5E,IAAMQ,WAAU,WACVoF,GACFd,EAAUc,EAAa,IAAI,KAE5B,CAACA,EAAad,IAQf,qCACE,cAAC,EAAD,CAAQzG,kBAAmBA,EAAmBL,QAASA,IACvD,qBAAKG,UAAU,UAAf,SACE,uBAAMA,UAAU,gBAAgByC,SATtC,SAAsBC,GACpBA,EAAEC,iBACF4E,EAAalB,IAOT,UACE,qBAAIrG,UAAU,sBAAd,mDAA6CqG,EAAOtD,KAApD,OACA,sBAAK/C,UAAU,2BAAf,UACE,uBAAO2H,QAAQ,OAAO3H,UAAU,sBAAhC,gCAGA,uBACEA,UAAU,sBACVgB,GAAG,OACH4G,UAAQ,EACR7E,KAAK,OACLD,KAAK,OACL+E,UAAU,IACVC,UAAU,KACVC,QAAQ,2CACR9E,MAAOoD,EAAOtD,MAAQ,GACtBG,SAAU8D,OAGd,sBAAMhH,UAAU,iBAAiBgB,GAAG,aAApC,SACGuF,EAAOxD,MAAQ,KAElB,sBAAK/C,UAAU,2BAAf,UACE,uBAAO2H,QAAQ,OAAO3H,UAAU,sBAAhC,oBAGA,uBACEA,UAAU,sBACVgB,GAAG,QACH4G,UAAQ,EACR7E,KAAK,QACLD,KAAK,QACLG,MAAOoD,EAAO2B,OAAS,GACvB9E,SAAU8D,OAId,sBAAMhH,UAAU,iBAAiBgB,GAAG,cAApC,SACGuF,EAAOyB,OAAS,KAEnB,wBACElF,KAAK,SACL9C,UAAS,2BACNyG,GAAW,4BAEdwB,UAAWxB,EALb,4FASA,cAAC,IAAD,CAAMzG,UAAU,gBAAgBF,GAAG,UAAUS,QAASiH,EAAtD,mH,YC9BKU,MA1Cf,YAUI,IATFC,EASC,EATDA,SACAC,EAQC,EARDA,WACAtH,EAOC,EAPDA,MACAuH,EAMC,EANDA,KACAC,EAKC,EALDA,SACAC,EAIC,EAJDA,SACAC,EAGC,EAHDA,aACAC,EAEC,EAFDA,iBAEC,IADDC,kBACC,SACD,OACE,mCACE,sBAAK1I,UAAU,OAAf,UACE,uBAAMA,UAAU,aAAayC,SAAU+F,EAAvC,UACE,oBAAIxI,UAAU,mBAAd,SAAkCc,IACjCqH,EACD,mBACEnI,UAAS,+BACXyI,EAAmB,GAAK,yBAFxB,gHAMA,wBACE3F,KAAK,SACL9C,UAAS,uBAAkB0I,GAAc,yBACzCT,SAAUS,EAHZ,SAKGN,OAGL,sBAAKpI,UAAU,uBAAf,UACE,mBAAGA,UAAU,aAAb,SAA2BuI,IAC3B,cAAC,IAAD,CAAMvI,UAAU,aAAaF,GAAIuI,EAAjC,SACGC,aCoCEK,MApEf,YAA+C,IAA9BC,EAA6B,EAA7BA,QAASH,EAAoB,EAApBA,iBACxB,EACErC,IADMC,EAAR,EAAQA,OAAQW,EAAhB,EAAgBA,aAAcL,EAA9B,EAA8BA,UAAWJ,EAAzC,EAAyCA,OAAQE,EAAjD,EAAiDA,QAYjD,OATA5E,IAAMQ,WAAU,WACdsE,EAAU,MACT,CAACA,IAQF,sBAAK3G,UAAU,QAAf,UACE,cAAC,EAAD,IACA,eAAC,EAAD,CACEoI,WAAW,iCACXtH,MAAM,gEACNuH,KAAK,UACLC,SAAS,qEACTC,SAAS,oIACTC,aAde,SAAC9F,GACpBA,EAAEC,iBACFiG,EAAQvC,IAaJoC,iBAAkBA,EAClBC,YAAajC,EARf,UAUE,wBACEkB,QAAQ,QACR3H,UAAU,0CAFZ,mBAKE,uBACEA,UAAU,2CACVgB,GAAG,QACH4G,UAAQ,EACR7E,KAAK,QACLD,KAAK,QACLG,MAAOoD,EAAO2B,OAAS,GACvB9E,SAAU8D,IAEZ,sBAAMhH,UAAU,cAAcgB,GAAG,cAAjC,SACGuF,EAAOyB,OAAS,QAGrB,wBACEL,QAAQ,WACR3H,UAAU,0CAFZ,iDAKE,uBACEA,UAAU,0CACVgB,GAAG,WACH4G,UAAQ,EACR7E,KAAK,WACLD,KAAK,WACL+F,aAAa,mBACb5F,MAAOoD,EAAOyC,UAAY,GAC1B5F,SAAU8D,IAEZ,sBAAMhH,UAAU,cAAcgB,GAAG,iBAAjC,SACGuF,EAAOuC,UAAY,e,MCsBjBC,MAlFf,YAAqD,IAAjCC,EAAgC,EAAhCA,WAAYP,EAAoB,EAApBA,iBAC9B,EACErC,IADMC,EAAR,EAAQA,OAAQW,EAAhB,EAAgBA,aAAcL,EAA9B,EAA8BA,UAAWJ,EAAzC,EAAyCA,OAAQE,EAAjD,EAAiDA,QAYjD,OATA5E,IAAMQ,WAAU,WACdsE,EAAU,MACT,CAACA,IAQF,sBAAK3G,UAAU,WAAf,UACE,cAAC,EAAD,IACA,eAAC,EAAD,CACEoI,WAAW,+GACXtH,MAAM,+FACNuH,KAAK,UACLC,SAAS,iCACTC,SAAS,uHACTC,aAde,SAAC9F,GACpBA,EAAEC,iBACFqG,EAAW3C,IAaPqC,YAAajC,EACbgC,iBAAkBA,EARpB,UAUE,wBAAOd,QAAQ,OAAO3H,UAAU,6CAAhC,+BAEE,uBACEA,UAAU,6CACVgB,GAAG,OACH4G,UAAQ,EACR7E,KAAK,OACLD,KAAK,OACL+E,UAAU,IACVC,UAAU,KACVC,QAAQ,2CACR9E,MAAOoD,EAAOtD,MAAQ,GACtBG,SAAU8D,IAEZ,sBAAMhH,UAAU,cAAcgB,GAAG,aAAjC,SACGuF,EAAOxD,MAAQ,QAIpB,wBAAO4E,QAAQ,QAAQ3H,UAAU,6CAAjC,mBAEE,uBACEA,UAAU,6CACVgB,GAAG,QACH4G,UAAQ,EACR7E,KAAK,QACLD,KAAK,QACLI,SAAU8D,EACV/D,MAAOoD,EAAO2B,OAAS,KAEzB,sBAAMhI,UAAU,cAAcgB,GAAG,cAAjC,SACGuF,EAAOyB,OAAS,QAIrB,wBAAOL,QAAQ,WAAW3H,UAAU,6CAApC,iDAEE,uBACEA,UAAU,6CACVgB,GAAG,WACH4G,UAAQ,EACR7E,KAAK,WACLD,KAAK,WACL+F,aAAa,mBACb3F,SAAU8D,EACV/D,MAAOoD,EAAOyC,UAAY,KAE5B,sBAAM9I,UAAU,cAAcgB,GAAG,iBAAjC,SACGuF,EAAOuC,UAAY,e,MClBjBG,MAtDf,YAeC,IAdC/I,EAcF,EAdEA,kBACAgJ,EAaF,EAbEA,MACArE,EAYF,EAZEA,MACAlD,EAWF,EAXEA,SACA9B,EAUF,EAVEA,QACA4F,EASF,EATEA,cACAE,EAQF,EAREA,kBACAb,EAOF,EAPEA,SACAC,EAMF,EANEA,oBACA1B,EAKF,EALEA,YACAuC,EAIF,EAJEA,mBACAtC,EAGF,EAHEA,WACA6F,EAEF,EAFEA,kBAIA,OACE,qCACE,cAAC,EAAD,CACEjJ,kBAAmBA,EACnBgJ,MAAOA,EACPrJ,QAASA,IAEX,sBAAKG,UAAU,eAAf,UACE,cAAC,EAAD,CAAY2B,SAAUA,IACtB,cAAC,EAAD,CAAW8D,cAAeA,IAC1B,mBACEzF,UAAS,0CACT2F,EAAoB,GAAK,oCAF3B,0GAMA,mBACE3F,UAAS,0CACT4F,EAAqB,GAAK,oCAF5B,irBAOA,cAAC,EAAD,CACEf,MAAOA,EACPC,SAAUA,EACVC,oBAAqBA,EACrB1B,YAAaA,EACbC,WAAYA,EACZ6F,kBAAmBA,OAGvB,cAAC,EAAD,Q,YCnCSC,MAnBf,YAA+D,IAAxCtD,EAAuC,EAAvCA,OAAQC,EAA+B,EAA/BA,QAASsD,EAAsB,EAAtBA,mBAChCrD,EAAYF,GAAU,gBAE5B,OACE,qBAAK9F,UAAS,gBAAWgG,GAAzB,SACE,sBAAKhG,UAAU,gBAAf,UACE,wBACE8C,KAAK,SACLvC,QAASwF,EACT/F,UAAU,wBAEZ,qBAAKA,UAAU,mBAAf,SACE,mBAAGA,UAAU,mBAAb,SAAiCqJ,Y,gBCK9BC,EAAY,I,WAnBvB,WAAYC,GAAS,oBACnBC,KAAKC,KAAOF,EAAOvF,I,kDAGrB,SAAe0F,GACb,OAAIA,EAAIC,GACCD,EAAIE,OAENC,QAAQC,OAAR,+CAAyBJ,EAAIK,W,sBAGtC,WACE,OAAOC,MAAM,GAAD,OAAIR,KAAKC,MAAQ,CAC3BQ,OAAQ,MACRC,QAAS,CAAC,eAAgB,sBACzBC,KAAKX,KAAKY,oB,KAIQ,CAAc,CACrCpG,IAAK,iDCkCMqG,EAAM,I,WAtDjB,WAAYd,GAAS,oBACnBC,KAAKC,KAAOF,EAAOvF,I,kDAGrB,SAAe0F,GACb,OAAIA,EAAIC,GACCD,EAAIE,OAENC,QAAQC,OAAR,+CAAyBJ,EAAIK,W,yBAGtC,WACE,IAAMO,EAAM/H,aAAaC,QAAQ,OACjC,MAAO,CAAE,eAAgB,mBAAoB,cAAgB,UAAhB,OAA2B8H,M,sBAG1E,WACE,OAAON,MAAM,GAAD,OAAIR,KAAKC,KAAT,UAAuB,CACjCQ,OAAQ,MACRC,QAASV,KAAKe,gBACbJ,KAAKX,KAAKY,kB,yBAGf,WACE,OAAOJ,MAAM,GAAD,OAAIR,KAAKC,KAAT,YAAyB,CACnCQ,OAAQ,MACRC,QAASV,KAAKe,gBACbJ,KAAKX,KAAKY,kB,qBAGf,SAAQI,GACN,OAAOR,MAAM,GAAD,OAAIR,KAAKC,KAAT,UAAuB,CACjCQ,OAAQ,OACRC,QAASV,KAAKe,cACdE,KAAMC,KAAKC,UAAUH,KACpBL,KAAKX,KAAKY,kB,yBAGf,SAAYI,GACV,OAAOR,MAAM,GAAD,OAAIR,KAAKC,KAAT,YAAyB,CACnCQ,OAAQ,QACRC,QAASV,KAAKe,cACdE,KAAMC,KAAKC,UAAUH,KACpBL,KAAKX,KAAKY,kB,wBAGf,SAAWQ,GACT,OAAOZ,MAAM,GAAD,OAAIR,KAAKC,KAAT,kBAAuBmB,GAAU,CAC3CX,OAAQ,SACRC,QAASV,KAAKe,gBACbJ,KAAKX,KAAKY,oB,KAIE,CAAY,CAC7BpG,IAAK,2DCxDM6G,EAAW,wDAElBC,EAAgB,SAACC,GACrB,OAAOA,EAASpB,GACZoB,EAASnB,OACTC,QAAQC,OACN,IAAIkB,MAAJ,+CAAoBD,EAAShB,OAA7B,aAAwCgB,EAASE,eAInDf,EAAU,CACd,eAAgB,oBCqYHgB,MA/Xf,WACE,MAA4CrJ,IAAMC,UAAS,GAA3D,mBAAOqJ,EAAP,KAAuBC,EAAvB,KACA,EAAoDvJ,IAAMC,UAAS,GAAnE,mBAAOuJ,EAAP,KAA0BC,EAA1B,KACA,EAA0BzJ,IAAMC,SAAS,IAAzC,mBAAO+C,EAAP,KAAc0G,EAAd,KACA,EAAoC1J,IAAMC,SAAS,IAAnD,mBAAOwB,EAAP,KAAmBkI,EAAnB,KACA,EAAoD3J,IAAMC,SAAS,IAAnE,mBAAO2J,EAAP,KAA2BC,EAA3B,KACA,EAA0B7J,IAAMC,SAAS,GAAzC,mBAAOoH,EAAP,KAAcyC,EAAd,KACA,EAAgC9J,IAAMC,SAAS,GAA/C,mBAAOgD,EAAP,KAAiB8G,EAAjB,KACA,EAA8B/J,IAAMC,UAAS,GAA7C,mBAAO+J,EAAP,KAAgBC,EAAhB,KACA,EAAkDjK,IAAMC,UAAS,GAAjE,oBAAO6D,GAAP,MAA0BoG,GAA1B,MACA,GACElK,IAAMC,UAAS,GADjB,qBAAOkK,GAAP,MAA+BC,GAA/B,MAEA,GAAoDpK,IAAMC,UAAS,GAAnE,qBAAO8D,GAAP,MAA2BsG,GAA3B,MACA,GAAgDrK,IAAMC,UAAS,GAA/D,qBAAO2G,GAAP,MAAyB0D,GAAzB,MACA,GAA8CtK,IAAMC,UAAS,GAA7D,qBAAOF,GAAP,MAAwBwK,GAAxB,MACA,GAAsCvK,IAAMC,SAAS,IAArD,qBAAO2F,GAAP,MAAoB4E,GAApB,MACA,GAAgCxK,IAAMC,UAAS,GAA/C,qBAAOwK,GAAP,MAAiBC,GAAjB,MACA,GAAwD1K,IAAMC,SAAS,IAAvE,qBAAO0K,GAAP,MAA+BC,GAA/B,MACMC,GAAUC,cAEVC,GAAa,WACjB,IDRuBC,ECQjBvC,EAAM/H,aAAaC,QAAQ,OAC5B8H,IDTkBuC,ECaTvC,EDZTN,MAAM,GAAD,OAAIa,EAAJ,aAAyB,CACnCZ,OAAQ,MACRC,QAAQ,2BACHA,GADE,IAEL4C,cAAc,UAAD,OAAYD,OAE1B1C,MAAK,SAACT,GAAD,OAASoB,EAAcpB,OCO1BS,MAAK,SAACK,GACL+B,IAAY,MAEbQ,OAAM,SAACC,GACNC,QAAQC,IAAIF,OAiHlB,SAASG,KACP/B,GAAkB,GAIpB,SAASgC,KACPhC,GAAkB,GAClBE,GAAuB,GAIzB,SAAS+B,KACP1B,EAAS2B,SAASC,gBAAgBC,aAEhC5B,EADE1C,EAAQ,IACE,EACHA,GAAS,KAAOA,EAAQ,KACrB,EAEA,IAIhB,SAASnE,KAEL6G,EADE1C,EAAQ,KACEpE,EAAW,EAEXA,EAAW,GAW3B,SAAS2I,GAAY5I,EAAO6I,GAC1B,IAAMC,EAAkB9I,EAAMK,QAC5B,SAAC9B,GAAD,OACkB,OAAhBA,EAAKwK,QACW,OAAhBxK,EAAKsB,QACW,OAAhBtB,EAAKyK,SACJzK,EAAKa,OAAO6J,cAAcC,SAASL,EAAQzL,OAAO6L,gBACjD1K,EAAKsB,OAAOoJ,cAAcC,SAASL,EAAQzL,OAAO6L,mBAExD,MAAsB,SAAlBJ,EAAQ9K,QAAsC,IAAlB8K,EAAQ9K,MAC/B+K,EAAgBzI,QACrB,SAAC9B,GAAD,OAA2C,IAAjCuB,SAASvB,EAAKgB,SAAW,OAG9BuJ,EAKX,SAASK,GAAexD,GACtBH,EACG4D,QAAQzD,GACRL,MAAK,SAACK,GACLgB,EAAc,GAAD,mBAAKlI,GAAL,CAAiBkH,EAAKA,WAEpCuC,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,EAAIkB,YAIpC,SAASC,GAAiB/K,GACxBiH,EACG+D,WAAWhL,EAAKkC,KAChB6E,MAAK,SAACK,GACLgB,GAAc,SAAC6C,GAAD,OAAWA,EAAMnJ,QAAO,SAACoJ,GAAD,OAAOA,EAAEhJ,MAAQlC,EAAKkC,UAC5DoG,GAAsB,SAAC2C,GAAD,OACpBA,EAAMnJ,QAAO,SAACoJ,GAAD,OAAOA,EAAEhJ,MAAQlC,EAAKkC,aAGtCyH,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,EAAIkB,YA+BpC,SAASK,GAAmBb,GAI1B,GAHA3B,IAAqB,GACrBG,IAAsB,GACtBE,IAAmB,GACI,KAAnBsB,EAAQzL,QAOZ,GAH2C,MAAvCM,aAAaC,QAAQ,iBAtBzBsJ,GAAW,GACXxC,EACGkF,WACArE,MAAK,SAACK,GACLjI,aAAakM,QAAQ,cAAe/D,KAAKC,UAAUH,OAEpDuC,OAAM,SAACC,GACNC,QAAQC,IAAIF,EAAIkB,SAChBhC,IAAsB,MAEvBwC,SAAQ,kBAAM5C,GAAW,OAegB,OAAxCvJ,aAAaC,QAAQ,eAAyB,CAChDD,aAAakM,QAAQ,qBAAsBf,EAAQzL,QACnDM,aAAakM,QAAQ,oBAAqBE,OAAOjB,EAAQ9K,QACzD,IAAMgM,EAAgBnB,GACpB/C,KAAKmE,MAAMtM,aAAaC,QAAQ,gBAChCkL,GAEFnC,EAASqD,GACTrM,aAAakM,QAAQ,qBAAsB/D,KAAKC,UAAUiE,IAC7B,IAAzBA,EAAc3J,OAChB8G,IAAqB,GAErBA,IAAqB,GAEvBsB,WApBAjB,IAAmB,GAyBvB,SAAS0C,GAAwBpB,GAG/B,GAFAzB,IAA0B,GAC1BG,IAAmB,GACI,KAAnBsB,EAAQzL,QAIZ,GAAIqB,EAAY,CACdf,aAAakM,QAAQ,0BAA2Bf,EAAQzL,QACxDM,aAAakM,QAAQ,yBAA0BE,OAAOjB,EAAQ9K,QAC9D,IAAMgM,EAAgBnB,GAAYnK,EAAYoK,GAC9ChC,EAAsBkD,GACtBhD,EAAYgD,EAAc3J,QACG,IAAzB2J,EAAc3J,OAChBgH,IAA0B,GAE1BA,IAA0B,GAE5BoB,GAAkBuB,EAAc3J,cAdhCmH,IAAmB,GAkBvB,OA3QAvK,IAAMQ,WAAU,WACduK,OACC,IAEH/K,IAAMQ,WAAU,WACd,GAAIiK,GAAU,CACZ,IAAMyC,EAAW,CAAC1E,EAAI2E,cAAe3E,EAAImE,YACzC3E,QAAQoF,IAAIF,GACT5E,MAAK,YAAwB,IAAD,mBAArB+E,EAAqB,KAAXrK,EAAW,KAC3BwH,GAAe6C,EAAS1E,MACxB+B,IAAY,GACZf,EACE3G,EAAM2F,KAAKtF,QAAO,SAAC9B,GAAD,OAAUA,EAAK+L,QAAUD,EAAS1E,KAAKlF,QAGV,OAA/C/C,aAAaC,QAAQ,uBACyB,OAA9CD,aAAaC,QAAQ,sBAErB+L,GAAmB,CACjBtM,OAAQM,aAAaC,QAAQ,sBAC7BI,MAAOL,aAAaC,QAAQ,uBAIsB,OAApDD,aAAaC,QAAQ,4BAC8B,OAAnDD,aAAaC,QAAQ,2BAErBsM,GAAwB,CACtB7M,OAAQM,aAAaC,QAAQ,2BAC7BI,MAAOL,aAAaC,QAAQ,+BAIjCuK,OAAM,SAACC,GACNC,QAAQC,IAAIF,SAGjB,CAACV,KAEJzK,IAAMQ,WAAU,WACViK,IACFI,GAAQ0C,KAAK,aAEd,CAAC9C,GAAUI,KAgGd7K,IAAMQ,WAAU,WACdsJ,EAAS2B,SAASC,gBAAgBC,aAClCH,KACAgC,OAAOC,iBAAiB,SAAUjC,MACjC,CAACnE,IA6HF,qBAAKlJ,UAAU,OAAf,SACE,qBAAKA,UAAU,gBAAf,SACE,eAACkG,EAAmBqJ,SAApB,CAA6BtM,MAAOwE,GAApC,UACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOnH,OAAK,EAACD,KAAK,IAAlB,SACE,cAAC,EAAD,CACER,QAASyM,GACTpM,kBAAmBiN,OAGvB,cAAC,IAAD,CAAO9M,KAAK,UAAZ,SACE,cAAC,EAAD,CAAOuI,QAzOH,SAAC4B,GAEf,OADA2B,IAAoB,GD7EC,SAAC3B,GACxB,OAAOR,MAAM,GAAD,OAAIa,EAAJ,WAAuB,CACjCX,UACAD,OAAQ,OACRQ,KAAMC,KAAKC,UAAU,CAAE3C,MAAOwC,EAAKxC,MAAOc,SAAU0B,EAAK1B,aACxDqB,MAAK,SAACT,GAAD,OAASoB,EAAcpB,MCyEtB8F,CACMhF,GACVL,MAAK,SAACK,GACDA,EAAKqC,QACPtK,aAAakM,QAAQ,MAAOjE,EAAKqC,OACjCN,IAAY,GACZG,GAAQ0C,KAAK,eAGhBrC,OAAM,SAACC,GACNC,QAAQC,IAAIF,GACZb,IAAoB,OA4NW1D,iBAAkBA,OAE7C,cAAC,IAAD,CAAOpI,KAAK,UAAZ,SACE,cAAC,EAAD,CACE2I,WA3NK,SAACwB,GAElB,OADA2B,IAAoB,GDvGA,SAAC3B,GACvB,OAAOR,MAAM,GAAD,OAAIa,EAAJ,WAAuB,CACjCX,UACAD,OAAQ,OACRQ,KAAMC,KAAKC,UAAU,CAAE3C,MAAOwC,EAAKxC,MAAOc,SAAU0B,EAAK1B,SAAU/F,KAAKyH,EAAKzH,SAC5EoH,MAAK,SAACT,GAAD,OAASoB,EAAcpB,MCmGtB8F,CACKhF,GACTL,MAAK,SAACK,GACLjI,aAAakM,QAAQ,MAAOjE,EAAKqC,OACjCN,IAAY,GACZG,GAAQ0C,KAAK,cAEdrC,OAAM,SAACC,GACNb,IAAoB,OAkNZ1D,iBAAkBA,OAGtB,cAAC,EAAD,CACEpI,KAAK,UACLV,UAAW+F,EACX7F,QAASyM,GACT3K,SAAU4M,GACVrO,kBAAmBiN,GACnBtI,MAAOA,EACPC,SAAUA,EACVC,oBAAqBA,GACrBU,cAAeoG,EACflG,kBAAmBA,GACnBC,mBAAoBA,GACpB6J,SAAUzB,GACV0B,WAAYvB,GACZ9K,YAjHZ,SAAgCmH,EAAM7G,GAChCA,EAIFwK,GAHmB7K,EAAW4B,QAC5B,SAAC9B,GAAD,OAAUA,EAAKM,UAAY8G,EAAK9G,WAChC,IAGFsK,GAAexD,IA2GPlH,WAAYA,EACZ1B,gBAAiBA,KAEnB,cAAC,EAAD,CACEvB,KAAK,gBACLV,UAAWsJ,EACXpJ,QAASyM,GACT3K,SAAUmN,GACV5O,kBAAmBiN,GACnBtI,MAAO4G,EACP3G,SAAU2G,EAAmBxG,OAC7BF,oBAAqBA,GACrBU,cAAeoG,EACflG,kBAAmBqG,GACnBpG,mBAAoBA,GACpB6J,SAAUzB,GACV0B,WAAYvB,GACZ9K,YAAa8K,GACb7K,WAAYA,EACZ1B,gBAAiBA,KAEnB,cAAC,EAAD,CACEvB,KAAK,WACLV,UAAW2H,EACXpH,kBAAmBiN,GACnBtN,QAASyM,GACT/E,aA5OZ,SAA0BiD,GACxBiC,GAAsB,IACtBpC,EACGsF,YAAY,CAAE5M,KAAMyH,EAAKzH,KAAMiF,MAAOwC,EAAKxC,QAC3CmC,MAAK,SAACK,GACL6B,GAAe7B,EAAKA,MACpBc,GAAuB,GACvBmB,GAAsB,6IAEvBM,OAAM,SAACC,GACN1B,GAAuB,GACvBmB,GAAsB,6OACtBQ,QAAQC,IAAIF,OAiONxF,SA1PK,WACf+E,IAAY,GACZhK,aAAaqN,WAAW,OACxBrN,aAAaqN,WAAW,sBACxBrN,aAAaqN,WAAW,qBACxBrN,aAAaqN,WAAW,2BACxBrN,aAAaqN,WAAW,0BACxBrE,EAAS,IACTG,EAAsB,IACtBgB,GAAQ0C,KAAK,YAkPH5C,uBAAwBA,KAE1B,cAAC,IAAD,CAAOnM,KAAK,IAAZ,SACGiM,GAAW,cAAC,IAAD,CAAUxM,GAAG,YAAe,cAAC,IAAD,CAAUA,GAAG,iBAGzD,cAAC,EAAD,CAAYgG,OAAQqF,EAAgBpF,QAASqH,KAC7C,cAAC,EAAD,CACEtH,OAAQuF,EACRtF,QAASqH,GACT/D,mBAAoBmD,aC5XjBqD,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqB5F,MAAK,YAAkD,IAA/C6F,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCAdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,IAAD,UACE,cAAC,EAAD,QAGJjD,SAASkD,eAAe,SAM1BX,O","file":"static/js/main.ff894b1a.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Redirect, Route } from \"react-router-dom\";\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props }) => {\r\n  return (\r\n    <Route>\r\n      {() =>\r\n        props.isLogin ? <Component {...props} /> : <Redirect to=\"/signin\" />\r\n      }\r\n    </Route>\r\n  );\r\n};\r\n\r\nexport default ProtectedRoute;\r\n","import React from \"react\";\r\nimport \"./Logo.css\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction Logo() {\r\n  return (\r\n    <Link className=\"logo\" to=\"/\"></Link>\r\n  )\r\n}\r\n\r\nexport default Logo;\r\n","import React from \"react\";\r\nimport { Link, useRouteMatch } from \"react-router-dom\";\r\nimport \"./Header.css\";\r\nimport Logo from \"../Logo/Logo\";\r\n\r\nfunction Header({ onNavigationClick, isLogin }) {\r\n  const isMain = useRouteMatch({ path: \"/\", exact: true });\r\n\r\n  return (\r\n    <div\r\n      className={`header\r\n      ${isMain ? \"header_green\" : \"\"}`}\r\n    >\r\n      <div className=\"header__content\">\r\n        <Logo />\r\n        <div\r\n          className={`header__login-container\r\n          ${isLogin ? \"header__invisible\" : \"\"}`}\r\n        >\r\n          <Link className=\"header__link_registration\" to=\"/signup\">\r\n            Регистрация\r\n          </Link>\r\n          <Link className=\"header__link-login\" to=\"/signin\">\r\n            Войти\r\n          </Link>\r\n        </div>\r\n        <div\r\n          className={`header__movie-container\r\n          ${isLogin ? \"\" : \"header__invisible\"}`}\r\n        >\r\n          <Link className=\"header__link-movie\" to=\"/movies\">\r\n            Фильмы\r\n          </Link>\r\n          <Link className=\"header__link-movie\" to=\"/saved-movies\">\r\n            Сохраненные фильмы\r\n          </Link>\r\n        </div>\r\n        <Link\r\n          className={`header__link-account\r\n          ${isLogin ? \"\" : \"header__invisible\"}`}\r\n          to=\"/profile\"\r\n        ></Link>\r\n        <button\r\n          className={`header__menu-button\r\n          ${isLogin ? \"\" : \"header__invisible\"}`}\r\n          onClick={onNavigationClick}\r\n        ></button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","export default __webpack_public_path__ + \"static/media/logo_web.8c9cca64.svg\";","import React from \"react\";\r\nimport logo_web from \"../../images/logo_web.svg\";\r\nimport \"./Promo.css\";\r\n\r\nfunction Promo() {\r\n  return (\r\n    <section className=\"promo\">\r\n      <div className=\"promo__content\">\r\n        <img className=\"promo__image\" src={logo_web} alt=\"Логотип сайта.\" />\r\n        <div className=\"promo__container\">\r\n          <h1 className=\"promo__title\">\r\n            Учебный проект студента факультета Веб&#8209;разработки.\r\n          </h1>\r\n          <p className=\"promo__subtitle\">\r\n            Листайте ниже, чтобы узнать больше про этот проект и его создателя.\r\n          </p>\r\n          <a className=\"promo__link\" href=\"#aboutProject\">Узнать больше</a>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default Promo;\r\n","import React from \"react\";\r\nimport \"./SectionTitle.css\";\r\n\r\nfunction SectionTitle({title}) {\r\n  return (\r\n    <>\r\n    <h2 className=\"section-title\">{title}</h2>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default SectionTitle;\r\n","import React from \"react\";\r\nimport \"./AboutProject.css\";\r\nimport SectionTitle from \"../SectionTitle/SectionTitle\";\r\n\r\nfunction AboutProject() {\r\n  return (\r\n    <section className=\"project\" id=\"aboutProject\">\r\n      <div className=\"project__content\">\r\n        <SectionTitle title={\"О проекте\"} />\r\n        <div className=\"project__info-container\">\r\n          <div className=\"project__text-container\">\r\n            <p className=\"project__subtitle\">\r\n              Дипломный проект включал 5 этапов\r\n            </p>\r\n            <p className=\"project__text\">\r\n              Составление плана, работу над бэкендом, вёрстку, добавление\r\n              функциональности и финальные доработки.\r\n            </p>\r\n          </div>\r\n          <div className=\"project__text-container\">\r\n            <p className=\"project__subtitle\">\r\n              На выполнение диплома ушло 5 недель\r\n            </p>\r\n            <p className=\"project__text\">\r\n              У каждого этапа был мягкий и жёсткий дедлайн, которые нужно было\r\n              соблюдать, чтобы успешно защититься.\r\n            </p>\r\n          </div>\r\n        </div>\r\n        <div className=\"project__block-container\">\r\n          <div className=\"project__block\">1 неделя</div>\r\n          <div className=\"project__block\">4 недели</div>\r\n          <div className=\"project__block-comment\">Back-end</div>\r\n          <div className=\"project__block-comment\">Front-end</div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default AboutProject;\r\n","import React from \"react\";\r\nimport \"./Techs.css\";\r\nimport SectionTitle from \"../SectionTitle/SectionTitle\";\r\n\r\nfunction Tech() {\r\n  return (\r\n    <section className=\"techs\">\r\n      <div className=\"techs__content\">\r\n        <SectionTitle title={\"Технологии\"} />\r\n        <div className=\"techs__container\">\r\n          <p className=\"techs__subtitle\">7 технологий</p>\r\n          <p className=\"techs__text\">\r\n            На курсе веб-разработки мы освоили технологии, которые применили в\r\n            дипломном проекте.\r\n          </p>\r\n        </div>\r\n        <ul className=\"techs__item-list\">\r\n          <li className=\"techs__item\">HTML</li>\r\n          <li className=\"techs__item\">CSS</li>\r\n          <li className=\"techs__item\">JS</li>\r\n          <li className=\"techs__item\">React</li>\r\n          <li className=\"techs__item\">Git</li>\r\n          <li className=\"techs__item\">Express.js</li>\r\n          <li className=\"techs__item\">MongoDB</li>\r\n        </ul>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default Tech;\r\n","export default __webpack_public_path__ + \"static/media/author.31497b56.jpg\";","import React from \"react\";\r\nimport \"./AboutMe.css\";\r\nimport SectionTitle from \"../SectionTitle/SectionTitle\";\r\nimport photo from \"../../images/author.jpg\";\r\n\r\nfunction AboutMe() {\r\n  return (\r\n    <section className=\"author\">\r\n      <div className=\"author__content\">\r\n        <SectionTitle title={\"Студент\"} />\r\n        <div className=\"author__main-container\">\r\n          <img className=\"author__photo\" src={photo} alt=\"Фотография автора.\" />\r\n          <div className=\"author__container\">\r\n            <div className=\"author__text-container\">\r\n              <p className=\"author__name\">Юля</p>\r\n              <p className=\"author__bio\">Фронтенд-разработчик, 30 лет</p>\r\n              <p className=\"author__text\">\r\n                Я родилась и живу в Москве, закончила факультет прикладной\r\n                математики института электроники и математики(МГИЭМ). У меня\r\n                есть муж и маленький сын. Я люблю решать загадки, кататься на\r\n                сноуборде и плавать. Все время работала в IT (поддержка,\r\n                внедренее, аналитика). В прошлом году ушла в декрет, открыла для\r\n                себя Фронтенд разработку и влюбилась. Планирую далее развиваться\r\n                именно в этом направлении.\r\n              </p>\r\n            </div>\r\n            <div className=\"author__link-container\">\r\n              <a\r\n                className=\"author__link\"\r\n                href=\"https://www.facebook.com/julia.radkovskaya\"\r\n              >\r\n                Facebook\r\n              </a>\r\n              <a\r\n                className=\"author__link\"\r\n                href=\"https://github.com/radkovskaya-ulia\"\r\n              >\r\n                Github\r\n              </a>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default AboutMe;\r\n","export default __webpack_public_path__ + \"static/media/row.78c4c42a.svg\";","import React from \"react\";\r\nimport \"./Portfolio.css\";\r\nimport row from \"../../images/row.svg\";\r\n\r\nfunction Portfolio() {\r\n  return (\r\n    <section className=\"portfolio\">\r\n      <div className=\"portfolio__content\">\r\n        <h2 className=\"portfolio__title\">Портфолио</h2>\r\n        <div className=\"portfolio__container\">\r\n          <a\r\n            className=\"portfolio__link\"\r\n            href=\"https://radkovskaya-ulia.github.io/how-to-learn/\"\r\n            target=\"_blank\"\r\n            rel=\"noreferrer\"\r\n          >\r\n            Статичный сайт\r\n          </a>\r\n          <img\r\n            className=\"portfolio__image\"\r\n            src={row}\r\n            alt=\"Изображение стрелки.\"\r\n          />\r\n        </div>\r\n        <div className=\"portfolio__container\">\r\n          <a\r\n            className=\"portfolio__link\"\r\n            href=\"https://radkovskaya-ulia.github.io/russian-travel/index.html\"\r\n            target=\"_blank\"\r\n            rel=\"noreferrer\"\r\n          >\r\n            Адаптивный сайт\r\n          </a>\r\n          <img\r\n            className=\"portfolio__image\"\r\n            src={row}\r\n            alt=\"Изображение стрелки.\"\r\n          />\r\n        </div>\r\n        <div className=\"portfolio__container\">\r\n          <a\r\n            className=\"portfolio__link\"\r\n            href=\"http://radkovskaya-mesto.nomoredomains.club/\"\r\n            target=\"_blank\"\r\n            rel=\"noreferrer\"\r\n          >\r\n            Одностраничное приложение\r\n          </a>\r\n          <img\r\n            className=\"portfolio__image\"\r\n            src={row}\r\n            alt=\"Изображение стрелки.\"\r\n          />\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default Portfolio;\r\n","import React from \"react\";\r\nimport \"./Footer.css\";\r\n\r\nfunction Footer() {\r\n  return (\r\n    <div className=\"footer\">\r\n      <div className=\"footer__content\">\r\n        <p className=\"footer__name-project\">\r\n          Учебный проект Яндекс.Практикум х BeatFilm.\r\n        </p>\r\n        <div className=\"footer__container\">\r\n          <div className=\"footer__link-container\">\r\n            <a\r\n              className=\"footer__link\"\r\n              href=\"https://praktikum.yandex.ru\"\r\n              target=\"_blank\"\r\n              rel=\"noreferrer\"\r\n            >\r\n              Яндекс.Практикум\r\n            </a>\r\n            <a\r\n              className=\"footer__link\"\r\n              href=\"https://github.com/radkovskaya-ulia\"\r\n              target=\"_blank\"\r\n              rel=\"noreferrer\"\r\n            >\r\n              Github\r\n            </a>\r\n            <a\r\n              className=\"footer__link\"\r\n              href=\"https://www.facebook.com/julia.radkovskaya\"\r\n              target=\"_blank\"\r\n              rel=\"noreferrer\"\r\n            >\r\n              Facebook\r\n            </a>\r\n          </div>\r\n          <p className=\"footer__copyright\">&copy;2021</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","import React from \"react\";\r\nimport Header from \"../Header/Header\";\r\nimport Promo from \"../Promo/Promo\";\r\nimport AboutProject from \"../AboutProject/AboutProject\";\r\nimport Techs from \"../Techs/Techs\";\r\nimport AboutMe from \"../AboutMe/AboutMe\";\r\nimport Portfolio from \"../Portfolio/Portfolio\";\r\nimport Footer from \"../Footer/Footer\";\r\n\r\nimport \"./Main.css\";\r\n\r\nfunction Main({isLogin, onNavigationClick}) {\r\n  return (\r\n    <>\r\n      <Header isLogin={isLogin} onNavigationClick={onNavigationClick}/>\r\n      <main className=\"content\">\r\n        <Promo />\r\n        <AboutProject />\r\n        <Techs />\r\n        <AboutMe />\r\n        <Portfolio />\r\n      </main>\r\n      <Footer />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","export default __webpack_public_path__ + \"static/media/magnifier.ec2dca4e.svg\";","import React from \"react\";\r\nimport \"./SearchForm.css\";\r\nimport magnifier from \"../../images/magnifier.svg\";\r\nimport { useLocation } from \"react-router-dom\";\r\n\r\nfunction SearchForm({ onSearch, seachInputError }) {\r\n  const [checked, setChecked] = React.useState('');\r\n  const [phrase, setPhrase] = React.useState(\"\");\r\n  const location = useLocation();\r\n\r\n  React.useEffect(() => {\r\n    if (location.pathname === \"/movies\") {\r\n      if (\r\n        localStorage.getItem(\"searchMoviesPhrase\") !== null &&\r\n        localStorage.getItem(\"searchMoviesCheck\") !== null\r\n      ) {\r\n        setPhrase(localStorage.getItem(\"searchMoviesPhrase\"));\r\n        if (localStorage.getItem(\"searchMoviesCheck\") === \"true\") {\r\n          setChecked(true);\r\n        } else if (localStorage.getItem(\"searchMoviesCheck\") === \"false\")\r\n          setChecked(false);\r\n      }\r\n    } else {\r\n      if (\r\n        localStorage.getItem(\"searchSavedMoviesPhrase\") !== null &&\r\n        localStorage.getItem(\"searchSavedMoviesCheck\") !== null\r\n      ) {\r\n        setPhrase(localStorage.getItem(\"searchSavedMoviesPhrase\"));\r\n        if (localStorage.getItem(\"searchSavedMoviesCheck\") === \"true\") {\r\n          setChecked(true);\r\n        } else if (localStorage.getItem(\"searchSavedMoviesCheck\") === \"false\")\r\n          setChecked(false);\r\n      }\r\n    }\r\n  }, [location]);\r\n\r\n  function handleChange(e) {\r\n    setChecked(!checked);\r\n  }\r\n  function handleChangePhrase(e) {\r\n    setPhrase(e.target.value);\r\n  }\r\n\r\n  function handleSumbit(e) {\r\n    e.preventDefault();\r\n    onSearch({\r\n      phrase: phrase,\r\n      check: checked,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <section className=\"searchform\">\r\n      <form className=\"searchform__form\" onSubmit={handleSumbit}>\r\n        <div className=\"searchform__container\">\r\n          <div className=\"searchform__input-container\">\r\n            <img\r\n              className=\"searchform__search-image\"\r\n              src={magnifier}\r\n              alt=\"Иконка лупы.\"\r\n            />\r\n            <input\r\n              type=\"text\"\r\n              name=\"filmname\"\r\n              className=\"searchform__input\"\r\n              placeholder=\"Фильм\"\r\n              value={phrase || \"\"}\r\n              onChange={handleChangePhrase}\r\n            />\r\n          </div>\r\n          <button type=\"submit\" className=\"searchform__button\"></button>\r\n        </div>\r\n        <label className=\"searchform__label\">\r\n          <input\r\n            type=\"checkbox\"\r\n            className=\"searchform__invisible-checkbox\"\r\n            checked={checked}\r\n            onChange={handleChange}\r\n          />\r\n          <span className=\"searchform__visible-checkbox\"></span>\r\n          <span className=\"form__label-text\">Короткометражки</span>\r\n        </label>\r\n      </form>\r\n      <p\r\n        className={`searchform__input-error ${\r\n          seachInputError ? \"\" : \"searchform__input-error_invisible\"\r\n        }`}\r\n      >\r\n        Нужно ввести ключевое слово\r\n      </p>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default SearchForm;\r\n","import React from \"react\";\r\nimport \"./MoviesCard.css\";\r\nimport { useRouteMatch } from \"react-router-dom\";\r\n\r\nfunction MoviesCard({ card, onLikeClick, savedCards }) {\r\n  const isMovies = useRouteMatch({ path: \"/movies\", exact: true });\r\n  const [isLiked, setIsLiked] = React.useState(savedCards.some((i) => i.movieId === card.id));\r\n  \r\n  function handleLikeClick() {\r\n    if (isMovies) {\r\n      setIsLiked(!isLiked);\r\n      onLikeClick(\r\n        {\r\n          country: card.country,\r\n          director: card.director,\r\n          duration: card.duration,\r\n          year: card.year,\r\n          description: card.description,\r\n          image: `https://api.nomoreparties.co${card.image.url}`,\r\n          trailer: card.trailerLink,\r\n          thumbnail: `https://api.nomoreparties.co${card.image.formats.thumbnail.url}`,\r\n          nameRU: card.nameRU,\r\n          nameEN: card.nameEN,\r\n          movieId: card.id,\r\n        },\r\n        isLiked\r\n      );\r\n    }\r\n    else {\r\n      onLikeClick(card)\r\n    }\r\n  }\r\n\r\n  const cardLikeButtonClassName = `card__like-button\r\n  ${isMovies ? \"\" : \"card__like-button_delete\"}\r\n  ${isLiked ? \"card__like-button_active\" : \"\"}`\r\n\r\n\r\n  return (\r\n    <li className=\"card\">\r\n      <a className=\"card__image-link\" href={card.trailerLink}><img\r\n        className=\"card__image\"\r\n        src={`${\r\n          isMovies\r\n            ? `https://api.nomoreparties.co${card.image.url}`\r\n            : card.image\r\n        } `}\r\n        alt={`Картинка фильма \"${card.nameRU}\".`}\r\n      /></a>\r\n      <div className=\"card__container\">\r\n        <h2 className=\"card__title\">{card.nameRU}</h2>\r\n        <button\r\n          type=\"button\"\r\n          className={cardLikeButtonClassName}\r\n          onClick={handleLikeClick}\r\n        ></button>\r\n      </div>\r\n      <p className=\"card__duration\">\r\n        {parseInt(card.duration / 60)}ч {card.duration % 60}м\r\n      </p>\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default MoviesCard;\r\n","import React from \"react\";\r\nimport \"./MoviesCardList.css\";\r\nimport MoviesCard from \"../MoviesCard/MoviesCard\";\r\nimport { useRouteMatch } from \"react-router-dom\";\r\n\r\nfunction MoviesCardList({\r\n  cards,\r\n  numCards,\r\n  handleShowMoreCards,\r\n  onLikeClick,\r\n  savedCards\r\n}) {\r\n  const downloadAllCard = cards.length <= numCards;\r\n  const isMovies = useRouteMatch({ path: \"/movies\", exact: true });\r\n\r\n\r\n  return (\r\n    <section className=\"card-list\">\r\n      <ul className=\"card__item-list\">\r\n        {[...cards]\r\n          .filter((card, num) => num < numCards)\r\n          .map((filterCard) => (\r\n            <MoviesCard\r\n              key={`${isMovies ? filterCard.id : filterCard._id}`}\r\n              card={filterCard}\r\n              onLikeClick={onLikeClick}\r\n              savedCards={savedCards}\r\n            ></MoviesCard>\r\n          ))}\r\n      </ul>\r\n      <button\r\n        type=\"button\"\r\n        className={`card__more-button\r\n        ${downloadAllCard ? \"card__more-button-invisible\" : \"\"}`}\r\n        onClick={handleShowMoreCards}\r\n      >\r\n        Еще\r\n      </button>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default MoviesCardList;\r\n","import React from 'react'\r\nimport './Preloader.css'\r\n\r\nfunction Preloader({showPreloader}) {\r\n    const showClass = showPreloader && \"preloader__visible\";\r\n    return (\r\n        <div className={`preloader ${showClass}`}>\r\n            <div className=\"preloader__container\">\r\n                <span className=\"preloader__round\"></span>\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Preloader\r\n","import React from \"react\";\r\nimport Header from \"../Header/Header\";\r\nimport Footer from \"../Footer/Footer\";\r\nimport \"./Movies.css\";\r\nimport SearchForm from \"../SearchForm/SearchForm\";\r\nimport MoviesCardList from \"../MoviesCardList/MoviesCardList\";\r\nimport Preloader from \"../Preloader/Preloader\";\r\n\r\nfunction Movies({\r\n  onNavigationClick,\r\n  numCards,\r\n  cards,\r\n  handleShowMoreCards,\r\n  onSearch,\r\n  showPreloader,\r\n  infoMoviesMessage,\r\n  errorMoviesMessage,\r\n  isLogin,\r\n  onLikeClick,\r\n  savedCards,\r\n  seachInputError,\r\n}) {\r\n\r\n\r\n  return (\r\n    <>\r\n      <Header onNavigationClick={onNavigationClick} isLogin={isLogin} />\r\n      <div className=\"movies\">\r\n        <SearchForm\r\n          onSearch={onSearch}\r\n          seachInputError={seachInputError}\r\n        />\r\n        <Preloader showPreloader={showPreloader} />\r\n        <p\r\n          className={`movies__movies-message\r\n        ${infoMoviesMessage ? \"\" : \"movies__movies-message_invisible\"}`}\r\n        >\r\n          Ничего не найдено\r\n        </p>\r\n        <p\r\n          className={`movies__movies-message\r\n        ${errorMoviesMessage ? \"\" : \"movies__movies-message_invisible\"}`}\r\n        >\r\n          Во время запроса произошла ошибка. Возможно, проблема с соединением\r\n          или сервер недоступен. Подождите немного и попробуйте ещё раз.\r\n        </p>\r\n        <MoviesCardList\r\n          cards={cards}\r\n          savedCards={savedCards}\r\n          numCards={numCards}\r\n          handleShowMoreCards={handleShowMoreCards}\r\n          onLikeClick={onLikeClick}\r\n        />\r\n      </div>\r\n      <Footer />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Movies;\r\n","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport \"./Navigation.css\";\r\n\r\nfunction Navigation({ isOpen, onClose }) {\r\n  const openClass = isOpen && \"navigation_visible\";\r\n\r\n  return (\r\n    <div className={`navigation ${openClass}`}>\r\n      <div className=\"navigation__content\">\r\n        <button\r\n          type=\"button\"\r\n          onClick={onClose}\r\n          className=\"navigation__close-button\"\r\n          aria-label=\"Кнопка закрытия меню навигации.\"\r\n        ></button>\r\n        <div className=\"navigation__link-container\">\r\n          <NavLink\r\n            activeClassName=\"navigation__link_active\"\r\n            className=\"navigation__link\"\r\n            exact\r\n            to=\"/\"\r\n            onClick={onClose}\r\n          >\r\n            Главная\r\n          </NavLink>\r\n          <NavLink\r\n            activeClassName=\"navigation__link_active\"\r\n            className=\"navigation__link\"\r\n            to=\"/movies\"\r\n            onClick={onClose}\r\n          >\r\n            Фильмы\r\n          </NavLink>\r\n          <NavLink\r\n            activeClassName=\"navigation__link_active\"\r\n            className=\"navigation__link\"\r\n            to=\"/saved-movies\"\r\n            onClick={onClose}\r\n          >\r\n            Сохраненные фильмы\r\n          </NavLink>\r\n        </div>\r\n        <NavLink\r\n          className=\"navigation__link-account\"\r\n          to=\"/profile\"\r\n          onClick={onClose}\r\n        ></NavLink>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Navigation;\r\n","import React from \"react\";\r\n\r\nexport const CurrentUserContext = React.createContext();\r\n","import React, { useCallback } from \"react\";\r\n\r\nexport function useFormWithValidation() {\r\n  const [values, setValues] = React.useState({});\r\n  const [errors, setErrors] = React.useState({});\r\n  const [isValid, setIsValid] = React.useState(false);\r\n\r\n  const handleChange = (evt) => {\r\n    const input = evt.target;\r\n    const value = input.value;\r\n    const name = input.name;\r\n    setValues({ ...values, [name]: value });\r\n    setErrors({ ...errors, [name]: input.validationMessage });\r\n    setIsValid(input.closest(\"form\").checkValidity());\r\n  };\r\n\r\n  const resetFrom = useCallback(\r\n    (newValues = {}, newErrors = {}, newIsValid = false) => {\r\n      setValues(newValues);\r\n      setErrors(newErrors);\r\n      setIsValid(newIsValid);\r\n    },\r\n    [setValues, setErrors, setIsValid]\r\n  );\r\n\r\n  return { values, handleChange, resetFrom, errors, isValid };\r\n}\r\n","import React from \"react\";\r\nimport \"./Profile.css\";\r\nimport Header from \"../Header/Header\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { CurrentUserContext } from \"../../contexts/CurrentUserContext\";\r\nimport { useFormWithValidation } from \"../../hooks/useFormValidation\";\r\n\r\nfunction Profile({ onNavigationClick, isLogin, onUpdateUser, onLogout }) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const { values, handleChange, resetFrom, errors, isValid } =\r\n    useFormWithValidation();\r\n\r\n  React.useEffect(() => {\r\n    if (currentUser) {\r\n      resetFrom(currentUser, {}, true);\r\n    }\r\n  }, [currentUser, resetFrom]);\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onUpdateUser(values);\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Header onNavigationClick={onNavigationClick} isLogin={isLogin} />\r\n      <div className=\"profile\">\r\n        <form className=\"profile__form\" onSubmit={handleSubmit}>\r\n          <h2 className=\"profile__form-title\">Привет, {values.name}!</h2>\r\n          <div className=\"profile__input-container\">\r\n            <label htmlFor=\"name\" className=\"profile__form-label\">\r\n              Имя\r\n            </label>\r\n            <input\r\n              className=\"profile__form-input\"\r\n              id=\"name\"\r\n              required\r\n              name=\"name\"\r\n              type=\"text\"\r\n              minLength=\"2\"\r\n              maxLength=\"30\"\r\n              pattern=\"[a-zA-Zа-яА-Я -]{1,}\"\r\n              value={values.name || \"\"}\r\n              onChange={handleChange}\r\n            />\r\n          </div>\r\n          <span className=\"profile__error\" id=\"name-error\">\r\n            {errors.name || \"\"}\r\n          </span>\r\n          <div className=\"profile__input-container\">\r\n            <label htmlFor=\"name\" className=\"profile__form-label\">\r\n              E-mail\r\n            </label>\r\n            <input\r\n              className=\"profile__form-input\"\r\n              id=\"email\"\r\n              required\r\n              name=\"email\"\r\n              type=\"email\"\r\n              value={values.email || \"\"}\r\n              onChange={handleChange}\r\n            />\r\n          </div>\r\n          \r\n          <span className=\"profile__error\" id=\"email-error\">\r\n            {errors.email || \"\"}\r\n          </span>\r\n          <button\r\n            type=\"submit\"\r\n            className={`profile__button ${\r\n              !isValid && \"profile__button_disabled\"\r\n            }`}\r\n            disabled={!isValid}\r\n          >\r\n            Редактировать\r\n          </button>\r\n          <Link className=\"profile__link\" to=\"/signin\" onClick={onLogout}>\r\n            Выйти из аккаунта\r\n          </Link>\r\n        </form>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Profile;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./AuthForm.css\";\r\n\r\nfunction AuthForm({\r\n  children,\r\n  buttonText,\r\n  title,\r\n  link,\r\n  linkText,\r\n  authText,\r\n  handleSubmit,\r\n  errorAuthMessage,\r\n  isDisabled = false,\r\n}) {\r\n  return (\r\n    <>\r\n      <div className=\"auth\">\r\n        <form className=\"auth__form\" onSubmit={handleSubmit}>\r\n          <h2 className=\"auth__form-title\">{title}</h2>\r\n          {children}\r\n          <p\r\n            className={`auth__error\r\n        ${errorAuthMessage ? \"\" : \"auth__error_invisible\"}`}\r\n          >\r\n            Что-то пошло не так ...\r\n          </p>\r\n          <button\r\n            type=\"submit\"\r\n            className={`auth__button ${isDisabled && \"auth__button_disabled\"}`}\r\n            disabled={isDisabled}\r\n          >\r\n            {buttonText}\r\n          </button>\r\n        </form>\r\n        <div className=\"auth__link-container\">\r\n          <p className=\"auth__text\">{authText}</p>\r\n          <Link className=\"auth__link\" to={link}>\r\n            {linkText}\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default AuthForm;\r\n","import React from \"react\";\r\nimport \"./Login.css\";\r\nimport AuthForm from \"../AuthForm/AuthForm\";\r\nimport Logo from \"../Logo/Logo\";\r\nimport { useFormWithValidation } from \"../../hooks/useFormValidation\";\r\n\r\nfunction Login({ onLogin, errorAuthMessage }) {\r\n  const { values, handleChange, resetFrom, errors, isValid } =\r\n    useFormWithValidation();\r\n\r\n  React.useEffect(() => {\r\n    resetFrom({});\r\n  }, [resetFrom]);\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    onLogin(values);\r\n  };\r\n\r\n  return (\r\n    <div className=\"login\">\r\n      <Logo />\r\n      <AuthForm\r\n        buttonText=\"Войти\"\r\n        title=\"Рады видеть\"\r\n        link=\"/signup\"\r\n        linkText=\"Регистрация\"\r\n        authText=\"Еще не зарегистрированы?\"\r\n        handleSubmit={handleSubmit}\r\n        errorAuthMessage={errorAuthMessage}\r\n        isDisabled={!isValid}\r\n      >\r\n        <label\r\n          htmlFor=\"email\"\r\n          className=\"auth__form-label auth__form-label_login\"\r\n        >\r\n          E-mail\r\n          <input\r\n            className=\"auth__form-input auth__form-input_login \"\r\n            id=\"email\"\r\n            required\r\n            name=\"email\"\r\n            type=\"email\"\r\n            value={values.email || \"\"}\r\n            onChange={handleChange}\r\n          />\r\n          <span className=\"auth__error\" id=\"email-error\">\r\n            {errors.email || \"\"}\r\n          </span>\r\n        </label>\r\n        <label\r\n          htmlFor=\"password\"\r\n          className=\"auth__form-label auth__form-label_login\"\r\n        >\r\n          Пароль\r\n          <input\r\n            className=\"auth__form-input auth__form-input_login\"\r\n            id=\"password\"\r\n            required\r\n            name=\"password\"\r\n            type=\"password\"\r\n            autoComplete=\"current-password\"\r\n            value={values.password || \"\"}\r\n            onChange={handleChange}\r\n          />\r\n          <span className=\"auth__error\" id=\"password-error\">\r\n            {errors.password || \"\"}\r\n          </span>\r\n        </label>\r\n      </AuthForm>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","import React from \"react\";\r\nimport \"./Register.css\";\r\nimport AuthForm from \"../AuthForm/AuthForm\";\r\nimport Logo from \"../Logo/Logo\";\r\nimport { useFormWithValidation } from \"../../hooks/useFormValidation\";\r\n\r\nfunction Register({ onRegister, errorAuthMessage }) {\r\n  const { values, handleChange, resetFrom, errors, isValid } =\r\n    useFormWithValidation();\r\n\r\n  React.useEffect(() => {\r\n    resetFrom({});\r\n  }, [resetFrom]);\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    onRegister(values);\r\n  };\r\n\r\n  return (\r\n    <div className=\"register\">\r\n      <Logo />\r\n      <AuthForm\r\n        buttonText=\"Зарегистрироваться\"\r\n        title=\"Добро пожаловать!\"\r\n        link=\"/signin\"\r\n        linkText=\"Войти\"\r\n        authText=\"Уже зарегистрированы?\"\r\n        handleSubmit={handleSubmit}\r\n        isDisabled={!isValid}\r\n        errorAuthMessage={errorAuthMessage}\r\n      >\r\n        <label htmlFor=\"name\" className=\"auth__form-label auth__form-label_register\">\r\n          Имя\r\n          <input\r\n            className=\"auth__form-input auth__form-input_register\"\r\n            id=\"name\"\r\n            required\r\n            name=\"name\"\r\n            type=\"text\"\r\n            minLength=\"2\"\r\n            maxLength=\"30\"\r\n            pattern=\"[a-zA-Zа-яА-Я -]{1,}\"\r\n            value={values.name || \"\"}\r\n            onChange={handleChange}\r\n          />\r\n          <span className=\"auth__error\" id=\"name-error\">\r\n            {errors.name || \"\"}\r\n          </span>\r\n        </label>\r\n\r\n        <label htmlFor=\"email\" className=\"auth__form-label auth__form-label_register\">\r\n          E-mail\r\n          <input\r\n            className=\"auth__form-input auth__form-input_register\"\r\n            id=\"email\"\r\n            required\r\n            name=\"email\"\r\n            type=\"email\"\r\n            onChange={handleChange}\r\n            value={values.email || \"\"}\r\n          />\r\n          <span className=\"auth__error\" id=\"email-error\">\r\n            {errors.email || \"\"}\r\n          </span>\r\n        </label>\r\n\r\n        <label htmlFor=\"password\" className=\"auth__form-label auth__form-label_register\">\r\n          Пароль\r\n          <input\r\n            className=\"auth__form-input auth__form-input_register\"\r\n            id=\"password\"\r\n            required\r\n            name=\"password\"\r\n            type=\"password\"\r\n            autoComplete=\"current-password\"\r\n            onChange={handleChange}\r\n            value={values.password || \"\"}\r\n          />\r\n          <span className=\"auth__error\" id=\"password-error\">\r\n            {errors.password || \"\"}\r\n          </span>\r\n        </label>\r\n      </AuthForm>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Register;\r\n","import React from \"react\";\r\nimport Header from \"../Header/Header\";\r\nimport Footer from \"../Footer/Footer\";\r\nimport \"./SavedMovies.css\";\r\nimport SearchForm from \"../SearchForm/SearchForm\";\r\nimport MoviesCardList from \"../MoviesCardList/MoviesCardList\";\r\nimport Preloader from \"../Preloader/Preloader\";\r\n\r\nfunction SavedMovies({\r\n  onNavigationClick,\r\n  width,\r\n  cards,\r\n  onSearch,\r\n  isLogin,\r\n  showPreloader,\r\n  infoMoviesMessage,\r\n  numCards,\r\n  handleShowMoreCards,\r\n  onLikeClick,\r\n  errorMoviesMessage,\r\n  savedCards,\r\n  showSavedCardList\r\n}) \r\n{\r\n\r\n  return (\r\n    <>\r\n      <Header\r\n        onNavigationClick={onNavigationClick}\r\n        width={width}\r\n        isLogin={isLogin}\r\n      />\r\n      <div className=\"saved-movies\">\r\n        <SearchForm onSearch={onSearch} />\r\n        <Preloader showPreloader={showPreloader}  />\r\n        <p\r\n          className={`movies__movies-message\r\n        ${infoMoviesMessage ? \"\" : \"movies__movies-message_invisible\"}`}\r\n        >\r\n          Ничего не найдено\r\n        </p>\r\n        <p\r\n          className={`movies__movies-message\r\n        ${errorMoviesMessage ? \"\" : \"movies__movies-message_invisible\"}`}\r\n        >\r\n          Во время запроса произошла ошибка. Возможно, проблема с соединением\r\n          или сервер недоступен. Подождите немного и попробуйте ещё раз.\r\n        </p>\r\n        <MoviesCardList\r\n          cards={cards}\r\n          numCards={numCards}\r\n          handleShowMoreCards={handleShowMoreCards}\r\n          onLikeClick={onLikeClick}\r\n          savedCards={savedCards}\r\n          showSavedCardList={showSavedCardList}\r\n        />\r\n      </div>\r\n      <Footer />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default SavedMovies;\r\n","import React from \"react\";\r\nimport \"./InfoTooltip.css\";\r\n\r\nfunction InfoTooltip({ isOpen, onClose, infoProfileMessage }) {\r\n  const openClass = isOpen && \"popup_visible\";\r\n\r\n  return (\r\n    <div className={`popup ${openClass}`}>\r\n      <div className=\"popup__window\">\r\n        <button\r\n          type=\"button\"\r\n          onClick={onClose}\r\n          className=\"popup__close-button\"\r\n        ></button>\r\n        <div className=\"popup__container\">\r\n          <p className=\"popup__info-text\">{infoProfileMessage}</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default InfoTooltip;\r\n","class MoviesApi {\r\n  constructor(config) {\r\n    this._url = config.url;\r\n  }\r\n\r\n  _checkResponse(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(`Ошибка ${res.status}`);\r\n  }\r\n\r\n  getCards() {\r\n    return fetch(`${this._url}`, {\r\n      method: \"GET\",\r\n      headers: {\"Content-Type\": \"application/json\"}\r\n    }).then(this._checkResponse);\r\n  }\r\n}\r\n\r\nexport const moviesApi = new MoviesApi({\r\n  url: \"https://api.nomoreparties.co/beatfilm-movies\",\r\n});\r\n","class mainApi {\r\n  constructor(config) {\r\n    this._url = config.url;\r\n  }\r\n\r\n  _checkResponse(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(`Ошибка ${res.status}`);\r\n  }\r\n\r\n  _getHeaders() {\r\n    const jwt = localStorage.getItem(\"jwt\");\r\n    return { \"Content-Type\": \"application/json\", 'authorization': `Bearer ${jwt}` }\r\n  }\r\n\r\n  getCards() {\r\n    return fetch(`${this._url}movies`, {\r\n      method: \"GET\",\r\n      headers: this._getHeaders()\r\n    }).then(this._checkResponse);\r\n  }\r\n\r\n  getUserInfo() {\r\n    return fetch(`${this._url}users/me`, {\r\n      method: \"GET\",\r\n      headers: this._getHeaders()\r\n    }).then(this._checkResponse);\r\n  }\r\n\r\n  addCard(data) {\r\n    return fetch(`${this._url}movies`, {\r\n      method: \"POST\",\r\n      headers: this._getHeaders(),\r\n      body: JSON.stringify(data),\r\n    }).then(this._checkResponse);\r\n  }\r\n\r\n  editProfile(data) {\r\n    return fetch(`${this._url}users/me`, {\r\n      method: \"PATCH\",\r\n      headers: this._getHeaders(),\r\n      body: JSON.stringify(data),\r\n    }).then(this._checkResponse);\r\n  }\r\n\r\n  removeCard(cardId) {\r\n    return fetch(`${this._url}movies/${cardId}`, {\r\n      method: \"DELETE\",\r\n      headers: this._getHeaders(),\r\n    }).then(this._checkResponse);\r\n  }\r\n}\r\n\r\nexport const api = new mainApi({\r\n  url: \"https://api.radkovskaya-diploma.nomoredomains.monster/\",\r\n});\r\n","export const BASE_URL = \"https://api.radkovskaya-diploma.nomoredomains.monster\";\r\n\r\nconst checkResponse = (response) => {\r\n  return response.ok\r\n    ? response.json()\r\n    : Promise.reject(\r\n        new Error(`Ошибка ${response.status}: ${response.statusText}`)\r\n      );\r\n};\r\n\r\nconst headers = {\r\n  \"Content-Type\": \"application/json\",\r\n};\r\n\r\nexport const register = (data) => {\r\n  return fetch(`${BASE_URL}/signup`, {\r\n    headers,\r\n    method: \"POST\",\r\n    body: JSON.stringify({ email: data.email, password: data.password, name:data.name }),\r\n  }).then((res) => checkResponse(res));\r\n};\r\n\r\nexport const authorize = (data) => {\r\n  return fetch(`${BASE_URL}/signin`, {\r\n    headers,\r\n    method: \"POST\",\r\n    body: JSON.stringify({ email: data.email, password: data.password }),\r\n  }).then((res) => checkResponse(res));\r\n};\r\n\r\nexport const getContent = (token) => {\r\n  return fetch(`${BASE_URL}/users/me`, {\r\n    method: \"GET\",\r\n    headers: {\r\n      ...headers,\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  }).then((res) => checkResponse(res));\r\n};\r\n","import React from \"react\";\r\nimport { Redirect, Route, Switch, useHistory } from \"react-router-dom\";\r\nimport ProtectedRoute from \"../ProtectedRoute/ProtectedRoute\";\r\nimport Main from \"../Main/Main\";\r\nimport Movies from \"../Movies/Movies\";\r\nimport Navigation from \"../Navigation/Navigation\";\r\nimport Profile from \"../Profile/Profile\";\r\nimport Login from \"../Login/Login\";\r\nimport Register from \"../Register/Register\";\r\nimport SavedMovies from \"../SavedMovies/SavedMovies\";\r\nimport \"./App.css\";\r\nimport InfoTooltip from \"../InfoTooltip/InfoTooltip\";\r\nimport { moviesApi } from \"../../utils/MoviesApi\";\r\nimport { api } from \"../../utils/MainApi\";\r\nimport { CurrentUserContext } from \"../../contexts/CurrentUserContext\";\r\nimport * as auth from \"../../utils/auth\";\r\n\r\nfunction App() {\r\n  const [isNagitionOpen, setIsNagitionOpen] = React.useState(false);\r\n  const [isInfoTooltipOpen, setIsisInfoTooltipOpen] = React.useState(false);\r\n  const [cards, setCards] = React.useState([]);\r\n  const [savedCards, setSavedCards] = React.useState([]);\r\n  const [savedFilteredCards, setSavedFilteredCards] = React.useState([]);\r\n  const [width, setWidth] = React.useState(0);\r\n  const [numCards, setNumCards] = React.useState(0);\r\n  const [loading, setLoading] = React.useState(false);\r\n  const [infoMoviesMessage, setInfoMoviesMessage] = React.useState(false);\r\n  const [infoSavedMoviesMessage, setInfoSavedMoviesMessage] =\r\n    React.useState(false);\r\n  const [errorMoviesMessage, setErrorMoviesMessage] = React.useState(false);\r\n  const [errorAuthMessage, setErrorAuthMessage] = React.useState(false);\r\n  const [seachInputError, setSeachInputError] = React.useState(false);\r\n  const [currentUser, setСurrentUser] = React.useState({});\r\n  const [loggedIn, setLoggedIn] = React.useState(false);\r\n  const [infoEditProfileMessage, setInfoProfileMessage] = React.useState(\"\");\r\n  const history = useHistory();\r\n\r\n  const tokenCheck = () => {\r\n    const jwt = localStorage.getItem(\"jwt\");\r\n    if (!jwt) {\r\n      return;\r\n    }\r\n    auth\r\n      .getContent(jwt)\r\n      .then((data) => {\r\n        setLoggedIn(true);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    tokenCheck();\r\n  }, []);\r\n\r\n  React.useEffect(() => {\r\n    if (loggedIn) {\r\n      const promises = [api.getUserInfo(), api.getCards()];\r\n      Promise.all(promises)\r\n        .then(([userData, cards]) => {\r\n          setСurrentUser(userData.data);\r\n          setLoggedIn(true);\r\n          setSavedCards(\r\n            cards.data.filter((card) => card.owner === userData.data._id)\r\n          );\r\n          if (\r\n            localStorage.getItem(\"searchMoviesPhrase\") !== null &&\r\n            localStorage.getItem(\"searchMoviesCheck\") !== null\r\n          ) {\r\n            handleSearchMovies({\r\n              phrase: localStorage.getItem(\"searchMoviesPhrase\"),\r\n              check: localStorage.getItem(\"searchMoviesCheck\"),\r\n            });\r\n          }\r\n          if (\r\n            localStorage.getItem(\"searchSavedMoviesPhrase\") !== null &&\r\n            localStorage.getItem(\"searchSavedMoviesCheck\") !== null\r\n          ) {\r\n            handleSearchSavedMovies({\r\n              phrase: localStorage.getItem(\"searchSavedMoviesPhrase\"),\r\n              check: localStorage.getItem(\"searchSavedMoviesCheck\"),\r\n            });\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    }\r\n  }, [loggedIn]);\r\n\r\n  React.useEffect(() => {\r\n    if (loggedIn) {\r\n      history.push(\"/movies\");\r\n    }\r\n  }, [loggedIn, history]);\r\n\r\n  // Авторизация\r\n  const onLogin = (data) => {\r\n    setErrorAuthMessage(false);\r\n    return auth\r\n      .authorize(data)\r\n      .then((data) => {\r\n        if (data.token) {\r\n          localStorage.setItem(\"jwt\", data.token);\r\n          setLoggedIn(true);\r\n          history.push(\"/movies\");\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n        setErrorAuthMessage(true);\r\n      });\r\n  };\r\n\r\n  // Регистрация\r\n  const onRegister = (data) => {\r\n    setErrorAuthMessage(false);\r\n    return auth\r\n      .register(data)\r\n      .then((data) => {\r\n        localStorage.setItem(\"jwt\", data.token);\r\n        setLoggedIn(true);\r\n        history.push(\"/movies\");\r\n      })\r\n      .catch((err) => {\r\n        setErrorAuthMessage(true);\r\n      });\r\n  };\r\n\r\n  // Выход из учетной записи\r\n  const onLogout = () => {\r\n    setLoggedIn(false);\r\n    localStorage.removeItem(\"jwt\");\r\n    localStorage.removeItem(\"searchMoviesPhrase\");\r\n    localStorage.removeItem(\"searchMoviesCheck\");\r\n    localStorage.removeItem(\"searchSavedMoviesPhrase\");\r\n    localStorage.removeItem(\"searchSavedMoviesCheck\");\r\n    setCards([]);\r\n    setSavedFilteredCards([]);\r\n    history.push(\"/signin\");\r\n  };\r\n\r\n  // Обновление профиля\r\n  function handleUpdateUser(data) {\r\n    setInfoProfileMessage(\"\");\r\n    api\r\n      .editProfile({ name: data.name, email: data.email })\r\n      .then((data) => {\r\n        setСurrentUser(data.data);\r\n        setIsisInfoTooltipOpen(true);\r\n        setInfoProfileMessage(\"Данные успешно обновлены\");\r\n      })\r\n      .catch((err) => {\r\n        setIsisInfoTooltipOpen(true);\r\n        setInfoProfileMessage(\"Во время обновления данных произошла ошибка\");\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  //Клик на иконку навигации\r\n  function handleNavigationClick() {\r\n    setIsNagitionOpen(true);\r\n  }\r\n\r\n  //Закрытие попапов\r\n  function closeAllPopups() {\r\n    setIsNagitionOpen(false);\r\n    setIsisInfoTooltipOpen(false);\r\n  }\r\n\r\n  //Рассчет карточек в зависимости от рарешения\r\n  function handleSetNumCards() {\r\n    setWidth(document.documentElement.clientWidth);\r\n    if (width < 768) {\r\n      setNumCards(5);\r\n    } else if (width >= 768 && width < 1280) {\r\n      setNumCards(8);\r\n    } else {\r\n      setNumCards(12);\r\n    }\r\n  }\r\n\r\n  function handleShowMoreCards() {\r\n    if (width < 1280) {\r\n      setNumCards(numCards + 2);\r\n    } else {\r\n      setNumCards(numCards + 4);\r\n    }\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    setWidth(document.documentElement.clientWidth);\r\n    handleSetNumCards();\r\n    window.addEventListener(\"resize\", handleSetNumCards);\r\n  }, [width]);\r\n\r\n  // Фильтрация карточек\r\n  function filterCards(cards, request) {\r\n    const filerByNameCard = cards.filter(\r\n      (card) =>\r\n        card.nameRu !== null &&\r\n        card.nameEN !== null &&\r\n        card.counry !== null &&\r\n        (card.nameRU.toLowerCase().includes(request.phrase.toLowerCase()) ||\r\n          card.nameEN.toLowerCase().includes(request.phrase.toLowerCase()))\r\n    );\r\n    if (request.check === \"true\" || request.check === true) {\r\n      return filerByNameCard.filter(\r\n        (card) => parseInt(card.duration / 60) === 0\r\n      );\r\n    } else {\r\n      return filerByNameCard;\r\n    }\r\n  }\r\n\r\n  // Сохранение карточки\r\n  function handleSaveCard(data) {\r\n    api\r\n      .addCard(data)\r\n      .then((data) => {\r\n        setSavedCards([...savedCards, data.data]);\r\n      })\r\n      .catch((err) => console.log(err.message));\r\n  }\r\n\r\n  // Удаление карточки\r\n  function handleDeleteCard(card) {\r\n    api\r\n      .removeCard(card._id)\r\n      .then((data) => {\r\n        setSavedCards((state) => state.filter((c) => c._id !== card._id));\r\n        setSavedFilteredCards((state) =>\r\n          state.filter((c) => c._id !== card._id)\r\n        );\r\n      })\r\n      .catch((err) => console.log(err.message));\r\n  }\r\n\r\n  // Обаботка постановки лайка на странице movies\r\n  function handleSaveOrDeleteCard(data, isLiked) {\r\n    if (isLiked) {\r\n      const deleteCard = savedCards.filter(\r\n        (card) => card.movieId === data.movieId\r\n      )[0];\r\n      handleDeleteCard(deleteCard);\r\n    } else {\r\n      handleSaveCard(data);\r\n    }\r\n  }\r\n\r\n  // Получение карточек из moviesApi\r\n  function handleGetCards() {\r\n    setLoading(true);\r\n    moviesApi\r\n      .getCards()\r\n      .then((data) => {\r\n        localStorage.setItem(\"moviesCards\", JSON.stringify(data));\r\n      })\r\n      .catch((err) => {\r\n        console.log(err.message);\r\n        setErrorMoviesMessage(true);\r\n      })\r\n      .finally(() => setLoading(false));\r\n  }\r\n\r\n  // Рендер карточек фильмов\r\n  function handleSearchMovies(request) {\r\n    setInfoMoviesMessage(false);\r\n    setErrorMoviesMessage(false);\r\n    setSeachInputError(false);\r\n    if (request.phrase === \"\") {\r\n      setSeachInputError(true);\r\n      return;\r\n    }\r\n    if (localStorage.getItem(\"moviesCards\") == null) {\r\n      handleGetCards();\r\n    }\r\n    if (localStorage.getItem(\"moviesCards\") !== null) {\r\n      localStorage.setItem(\"searchMoviesPhrase\", request.phrase);\r\n      localStorage.setItem(\"searchMoviesCheck\", String(request.check));\r\n      const filteredCards = filterCards(\r\n        JSON.parse(localStorage.getItem(\"moviesCards\")),\r\n        request\r\n      );\r\n      setCards(filteredCards);\r\n      localStorage.setItem(\"filteredMoviesCard\", JSON.stringify(filteredCards));\r\n      if (filteredCards.length === 0) {\r\n        setInfoMoviesMessage(true);\r\n      } else {\r\n        setInfoMoviesMessage(false);\r\n      }\r\n      handleSetNumCards();\r\n    }\r\n  }\r\n\r\n  // Рендер карточек сохраненных фильмов\r\n  function handleSearchSavedMovies(request) {\r\n    setInfoSavedMoviesMessage(false);\r\n    setSeachInputError(false);\r\n    if (request.phrase === \"\") {\r\n      setSeachInputError(true);\r\n      return;\r\n    }\r\n    if (savedCards) {\r\n      localStorage.setItem(\"searchSavedMoviesPhrase\", request.phrase);\r\n      localStorage.setItem(\"searchSavedMoviesCheck\", String(request.check));\r\n      const filteredCards = filterCards(savedCards, request);\r\n      setSavedFilteredCards(filteredCards);\r\n      setNumCards(filteredCards.length);\r\n      if (filteredCards.length === 0) {\r\n        setInfoSavedMoviesMessage(true);\r\n      } else {\r\n        setInfoSavedMoviesMessage(false);\r\n      }\r\n      handleSetNumCards(filteredCards.length);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"page\">\r\n      <div className=\"page__content\">\r\n        <CurrentUserContext.Provider value={currentUser}>\r\n          <Switch>\r\n            <Route exact path=\"/\">\r\n              <Main\r\n                isLogin={loggedIn}\r\n                onNavigationClick={handleNavigationClick}\r\n              />\r\n            </Route>\r\n            <Route path=\"/signin\">\r\n              <Login onLogin={onLogin} errorAuthMessage={errorAuthMessage} />\r\n            </Route>\r\n            <Route path=\"/signup\">\r\n              <Register\r\n                onRegister={onRegister}\r\n                errorAuthMessage={errorAuthMessage}\r\n              />\r\n            </Route>\r\n            <ProtectedRoute\r\n              path=\"/movies\"\r\n              component={Movies}\r\n              isLogin={loggedIn}\r\n              onSearch={handleSearchMovies}\r\n              onNavigationClick={handleNavigationClick}\r\n              cards={cards}\r\n              numCards={numCards}\r\n              handleShowMoreCards={handleShowMoreCards}\r\n              showPreloader={loading}\r\n              infoMoviesMessage={infoMoviesMessage}\r\n              errorMoviesMessage={errorMoviesMessage}\r\n              saveCard={handleSaveCard}\r\n              deleteCard={handleDeleteCard}\r\n              onLikeClick={handleSaveOrDeleteCard}\r\n              savedCards={savedCards}\r\n              seachInputError={seachInputError}\r\n            />\r\n            <ProtectedRoute\r\n              path=\"/saved-movies\"\r\n              component={SavedMovies}\r\n              isLogin={loggedIn}\r\n              onSearch={handleSearchSavedMovies}\r\n              onNavigationClick={handleNavigationClick}\r\n              cards={savedFilteredCards}\r\n              numCards={savedFilteredCards.length}\r\n              handleShowMoreCards={handleShowMoreCards}\r\n              showPreloader={loading}\r\n              infoMoviesMessage={infoSavedMoviesMessage}\r\n              errorMoviesMessage={errorMoviesMessage}\r\n              saveCard={handleSaveCard}\r\n              deleteCard={handleDeleteCard}\r\n              onLikeClick={handleDeleteCard}\r\n              savedCards={savedCards}\r\n              seachInputError={seachInputError}\r\n            />\r\n            <ProtectedRoute\r\n              path=\"/profile\"\r\n              component={Profile}\r\n              onNavigationClick={handleNavigationClick}\r\n              isLogin={loggedIn}\r\n              onUpdateUser={handleUpdateUser}\r\n              onLogout={onLogout}\r\n              infoEditProfileMessage={infoEditProfileMessage}\r\n            />\r\n            <Route path=\"*\">\r\n              {loggedIn ? <Redirect to=\"/movies\" /> : <Redirect to=\"/signin\" />}\r\n            </Route>\r\n          </Switch>\r\n          <Navigation isOpen={isNagitionOpen} onClose={closeAllPopups} />\r\n          <InfoTooltip\r\n            isOpen={isInfoTooltipOpen}\r\n            onClose={closeAllPopups}\r\n            infoProfileMessage={infoEditProfileMessage}\r\n          />\r\n        </CurrentUserContext.Provider>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./components/App/App\";\r\nimport { BrowserRouter } from 'react-router-dom'\r\nimport reportWebVitals from \"./reportWebVitals\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter>\r\n      <App />\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}